(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["project"],{"01f5":function(e,t,n){},"07bd":function(e,t,n){"use strict";n.r(t);var i=n("7a23"),a={key:0},s={key:1,class:"columns"};function c(e,t,n,c,r,o){var u=Object(i["w"])("Setup"),l=Object(i["w"])("Documentation"),b=Object(i["w"])("GiveSidebar"),d=Object(i["w"])("ViewSidebar"),p=Object(i["w"])("ConfirmSidebar"),h=Object(i["w"])("MarkerOverlay");return Object(i["r"])(),Object(i["f"])(i["a"],null,["setup"!==r.page||e.showMarkerOverlay?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("main",a,[Object(i["i"])(u,{content:o.pageContent,stepIndex:r.progress},null,8,["content","stepIndex"])])),o.pageIsGiveOrView&&!e.showMarkerOverlay?(Object(i["r"])(),Object(i["f"])("main",s,[Object(i["i"])(l,{pageMode:r.page,content:{project:e.project,documentation:o.documentation}},null,8,["pageMode","content"]),"give"!==r.page||e.showImageSidebar?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(b,{key:0,content:{project:e.project,documentation:o.documentation,sidebar:o.sidebar},stepIndex:r.progress},null,8,["content","stepIndex"])),"view"!==r.page||e.showImageSidebar?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(d,{key:1,content:{project:e.project,documentation:o.documentation,sidebar:o.sidebar}},null,8,["content"])),e.showImageSidebar?(Object(i["r"])(),Object(i["f"])(p,{key:2,content:o.imageContent},null,8,["content"])):Object(i["g"])("",!0)])):Object(i["g"])("",!0),e.showMarkerOverlay?(Object(i["r"])(),Object(i["f"])(h,{key:2,content:{documentation:o.documentation,markerContent:o.markerContent},class:"columns"},null,8,["content"])):Object(i["g"])("",!0)],64)}n("96cf");var r=n("1da1"),o=n("5530"),u=n("5502"),l={steps:[{required:!0,title:"Upload your data visualisation",body:"Make sure the data visualisation is cropped correctly. A title in the image is not necessary.",tips:[],component:"SetupVisualisation",rules:"Only .png and .jpg files smaller than 5mb allowed",navigation:[{label:"Dashboard",action:{target:"dashboard"}},{label:"Next",hasOutline:!0,hasDisabled:!0,action:"nextStep"}]},{required:!0,title:"What is your data visualisation about?",body:"Explain what the data visualisation is about. What data have you visualised and why? What are the most interesting findings of your visualisation?",tips:["What are the most interesting conclusions?","Have you found any patterns or causes that can explain the conclusions?"],component:"SetupLongText",navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,hasDisabled:!0,action:"nextStep"}]},{required:!0,title:"What would you like feedback on?",body:"The key to receiving useful feedback is asking the right questions, your feedback providers will answer these questions.",tips:["Think about the problems and choices you faced.","Are there specific parts you found difficult and want feedback on?"],component:"SetupQuestions",navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,hasDisabled:!0,action:"nextStep"}]},{title:"What don’t you want feedback on?",body:"Is there a part that needs to be changed, but haven’t had the time to do it? Write the ‘limit’ down to ensure your feedback providers exclude it from their feedback.",tips:["You should only have a 'limit' if you have changes you know you'll guaranteed make in the future.","Your limit should only be a small part / detail."],component:"SetupLimits",navigation:[{label:"Previous",action:"previousStep"},{label:"Save",hasOutline:!0,hasDisabled:!0,action:"saveSetup"}]}]},b={explanationHeading:"Explanation",questionsHeading:"I want feedback on...",limitsHeading:"I don't want feedback on..."},d={tabs:[{label:"Give feedback",value:"give"},{label:"View feedback",value:"view"}],steps:[{isCentered:!0,hideDocumentation:!0,content:{inputInstructions:{title:"Note your insights",body:"What insights can you gather from the data visualisation? What conclusions can you draw? Write them down."}},navigation:[{label:"Submit",action:"saveInsights"}]},{isCentered:!0,hideVisualisation:!0,content:{confirmInstructions:{title:"Read the documentation",body:"Take the time to take in all the information, so that you know what the data visualization is about. Don't worry, this information will also be available while giving feedback."}},navigation:[{label:"Finished",action:"nextStep"}]},{popUp:{title:"About giving feedback...",body:'The purpose of your feedback is to make the data visualization as good as possible. Always ask yourself "does this help improve the data visualisation?" before commenting.',tipHeading:"Some tips:",tips:[{type:"normal",label:"Respect the feedback limits."},{type:"normal",label:'Click the "view feedback" tab to view the feedback of group members.'},{type:"normal",label:"Indicate the relevant data visualisation parts using markers."}],buttonLabel:"Got it"},content:{readInstructions:{title:"Name areas for improvement",body:"Look for areas that could be improved to make the data visualisation more insightful or visually stronger.",legend:[{type:"limit",label:"Don't include this in your feedback"}]},feedbackHelper:{sections:{zero:{title:"Ask yourself this:",body:"",tips:["Was the correct visualisation type used or are there better suiting types?","Is there anything that you don't understand?","Are the labels and texts legible?","Are there design or editorial choices that can mislead the interpreter?"]},interactive:{title:"How to write valuable feedback",body:"Use the tips below to make your feedback clear and useful.",tips:[{heading:"Explain why it's a problem.",detail:'When you have found an area for improvement, explain why it needs to be changed. → "Make the lines thicker" should be "By making the line thicker you create more contrast".'},{heading:"Keep it objective.",detail:'Feedback should be as objective as possible, so refrain from using opions or subjective words such as "beautiful" and "ugly". → "The yellow colors look beautiful" should be "The yellow colors make the legend stand out".'},{heading:"Suggest a solution.",detail:'Suggest a solution or alternative to fix the problem, make sure the suggestion is well explained. → add a sketch of your solution by clicking the "ADD IMAGE" button.'}]}}},feedbackInput:!0},navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,action:"nextStep"}]},{content:{readInstructions:{title:"Answer the feedback questions",body:"Make sure to answer the feedback questions below.",legend:[{type:"question",label:"Give feedback on this"}]},feedbackHelper:{sections:{zero:{title:"How to answer feedback questions",body:"",tips:["Strengthen your argument by explaining why, answers without substance are not useful.",'Also see the answers / feedback of others by clicking on the "view feedback" tab.']},interactive:{title:"How to write valuable feedback",body:"Use the tips below to make your feedback clear and useful.",tips:[{heading:"Explain why it's a problem.",detail:'When you have found an area for improvement, explain why it needs to be changed. → "Make the lines thicker" should be "By making the line thicker you create more contrast".'},{heading:"Keep it objective.",detail:'Feedback should be as objective as possible, so refrain from using opions or subjective words such as "beautiful" and "ugly". → "The yellow colors look beautiful" should be "The yellow colors make the legend stand out".'},{heading:"Suggest a solution.",detail:'Suggest a solution or alternative to fix the problem, make sure the suggestion is well explained. → add a sketch of your solution by clicking the "ADD IMAGE" button.'},{heading:"Visually support your feedback.",detail:"Adding a visual aspect to your feedback (such as markers or an image) helps others interpret your feedback, making it easier to get your point across."}]}}},feedbackInput:!0},navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,action:"nextStep"}]},{content:{readInstructions:{title:"Name positive parts",body:"Name parts of the data visualisation that work well or that you found enjoyable, this decreases the chance of it being removed in a future iteration."},feedbackHelper:{sections:{zero:{title:"Ask yourself this:",body:"",tips:["What do you like about the visualisation?","Do you understand the visualisation? If so, you should let the creator know.",'Also see the answers / feedback of others by clicking on the "view feedback" tab.']},interactive:{title:"How to write valuable feedback",body:"",tips:[{heading:"Explain why it's good.",detail:'When you name something positive, explain what makes it good. → "The colors are good" should be "The color contrast makes the text easy to read".'},{heading:"Keep it objective.",detail:'Feedback should be as objective as possible, so refrain from using opions or subjective words such as "beautiful" and "ugly". → "The yellow colors look beautiful" should be "The yellow colors make the legend stand out".'},{heading:"Add markers.",detail:"Adding markers allows you to clearly show what part of the visualisation your feedback relates to, this makes it easier to understand your feedback."}]}}},feedbackInput:!0},navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,action:{target:"dashboard"}}]}],viewFeedbackSections:{feedbackComments:{title:"All feedback"}},markerContent:{title:"Mark the relevant parts.",body:"Place and remove markers by clicking on the visualisation.",navigation:[{label:"Cancel",action:"cancelMarkers"},{label:"Save",hasOutline:!0,hasDisabled:!0,action:"saveMarkers"}]},imageContent:{title:"Add an image to your feedback.",body:"Visually support your feedback by adding an image. Images can be a visual explanation or sketch of a possible solution.",rules:"Only .png and .jpg files smaller than 5mb allowed",navigation:[{label:"Cancel",action:"cancelImage"},{label:"Save",hasOutline:!0,hasDisabled:!0,action:"saveImage"}]}},p={tabs:[{label:"Insights",value:"insights",content:{readInstructions:{title:"About the insights",body:"Insights are a check to see if your data visualisation was correctly understood / interpreted without context. If the insights are similar to your personal conclusions it means your data visualisation is effective."},insights:{title:"All insights"}}},{label:"Feedback",value:"feedback",content:{readInstructions:{title:"About the feedback",body:"The goal of feedback is to improve your work, it's not personal. Feedback are opinions and suggestions of others, they are not facts. You don't have to use the feedback if you don't agree with it."},feedbackComments:{title:"All feedback"}}}]},h={class:"setup"},m={class:"setup__wrapper"},f={key:0,class:"setup__title"},O={class:"setup__required-indicator"},g={key:1,class:"setup__body"},j={key:2},v={class:"setup__buttons"};function k(e,t,n,a,s,c){var r=Object(i["w"])("Menu"),o=Object(i["w"])("ProgressBar");return Object(i["r"])(),Object(i["f"])(i["a"],null,[Object(i["i"])(r,{hasBack:!0,hasLogout:!1}),Object(i["i"])("section",h,[Object(i["i"])("div",m,[Object(i["i"])(o,{total:c.totalSteps,index:n.stepIndex},null,8,["total","index"]),Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in",onBeforeEnter:t[1]||(t[1]=function(e){return c.beforeEnter()}),onAfterEnter:t[2]||(t[2]=function(e){return c.afterEnter()})},{default:Object(i["E"])((function(){return[(Object(i["r"])(),Object(i["f"])("div",{class:["setup__inner",c.animSideClass],key:n.stepIndex},[c.title?(Object(i["r"])(),Object(i["f"])("h1",f,[Object(i["h"])(Object(i["z"])(c.title)+" ",1),Object(i["i"])("span",O,Object(i["z"])(c.requiredLabel),1)])):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",g,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),c.tips?(Object(i["r"])(),Object(i["f"])("ul",j,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.tips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e},Object(i["z"])(e),1)})),128))])):Object(i["g"])("",!0),(Object(i["r"])(),Object(i["f"])(Object(i["x"])(c.component),{content:c.step,class:"setup__input"},null,8,["content"])),Object(i["i"])("div",v,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.navigation,(function(e,t){return Object(i["r"])(),Object(i["f"])("button",{key:t,class:["setup__button",{"setup__button--outline":e.hasOutline,"setup__button--disabled":c.showDisabledState(e.hasDisabled)}],onClick:function(t){return c.handleNavigationButton(e)}},Object(i["z"])(e.label),11,["onClick"])})),128))])],2))]})),_:1})])])],64)}n("caad"),n("b0c0"),n("ac1f"),n("1276");var _=n("fb62"),w={class:"progress-bar"},y={class:"progress-bar__container"};function I(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",w,[Object(i["i"])("div",y,[Object(i["i"])("div",{class:"progress-bar__value",style:c.progress},null,4)])])}var S={name:"ProgressBar",props:["total","index"],computed:{progress:function(){var e=this.index/this.total*100;return{width:"".concat(e,"%")}}}};n("3080");S.render=I;var x=S,C={class:"setup-upload"},M={key:0,class:"setup-upload__rules-container"},z={class:"setup-upload__rules"},T=Object(i["i"])("p",{class:"setup-upload__dropzone-label"},[Object(i["h"])("Drop a file or "),Object(i["i"])("span",{class:"setup-upload__dropzone-label--underline"},"browse")],-1),P={key:1,class:"setup-upload__preview-container"};function A(e,t,n,a,s,c){var r=Object(i["w"])("RemoveIcon");return Object(i["r"])(),Object(i["f"])("div",C,[c.rules&&!e.visualisationPreview?(Object(i["r"])(),Object(i["f"])("div",M,[Object(i["i"])("p",z,Object(i["z"])(c.rules),1)])):Object(i["g"])("",!0),Object(i["i"])("div",null,[e.visualisationPreview?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("form",{key:0,class:"setup-upload__dropzone",onDrop:t[2]||(t[2]=Object(i["H"])((function(e){return c.handleDrop(e)}),["prevent"])),onDragenter:t[3]||(t[3]=Object(i["H"])((function(){}),["prevent"])),onDragover:t[4]||(t[4]=Object(i["H"])((function(){}),["prevent"])),onClick:t[5]||(t[5]=function(e){return c.openFilePicker()})},[Object(i["i"])("input",{class:"setup-upload__dropzone-input",type:"file",ref:"feedbackImageInput",onChange:t[1]||(t[1]=function(e){return c.selectFile(e)})},null,544),T],32)),e.visualisationPreview?(Object(i["r"])(),Object(i["f"])("div",P,[Object(i["i"])("img",{src:e.visualisationPreview,class:"setup-upload__preview"},null,8,["src"]),Object(i["i"])("div",{class:"setup-upload__preview-remove",onClick:t[6]||(t[6]=function(e){return c.removeSelectedFile()})},[Object(i["i"])(r,{class:"setup-upload__preview-remove-icon"})])])):Object(i["g"])("",!0)])])}n("d3b7");var H={width:"20",height:"20"},D=Object(i["i"])("path",{d:"M5 9v2h10V9H5zm5-9C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},null,-1);function L(e,t){return Object(i["r"])(),Object(i["f"])("svg",H,[D])}const V={};V.render=L;var q=V,F={name:"SetupVisualisation",components:{RemoveIcon:q},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("setup",{visualisation:"visualisation",visualisationPreview:"visualisationPreview"})),{},{rules:function(){return this.content.rules}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("setup",{updateVisualisation:"updateVisualisation",updateVisualisationPreview:"updateVisualisationPreview"})),Object(u["b"])("message",{message:"message"})),{},{openFilePicker:function(){this.$refs.feedbackImageInput.click()},handleDrop:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==e.dataTransfer.files.length){n.next=9;break}return t.updateVisualisation(e.dataTransfer.files[0]),n.t0=t,n.next=5,t.getPreview();case 5:n.t1=n.sent,n.t0.updateVisualisationPreview.call(n.t0,n.t1),n.next=10;break;case 9:t.message({message:"Too many files selected",mode:"error"});case 10:case"end":return n.stop()}}),n)})))()},selectFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.updateVisualisation(e.target.files[0]),n.t0=t,n.next=4,t.getPreview();case 4:n.t1=n.sent,n.t0.updateVisualisationPreview.call(n.t0,n.t1);case 6:case"end":return n.stop()}}),n)})))()},removeSelectedFile:function(){this.updateVisualisation(null),this.updateVisualisationPreview(null)},getPreview:function(){var e=this;return new Promise((function(t,n){var i=new FileReader;i.onload=function(){return t(i.result)},i.onerror=function(){return n()},i.readAsDataURL(e.visualisation)}))}})};n("b29c");F.render=A;var E=F,R={class:"setup-long-text"};function N(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",R,[Object(i["F"])(Object(i["i"])("textarea",{rows:"6",placeholder:"Enter an explanation","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.explanation=e}),class:"setup-long-text__input"},null,512),[[i["C"],c.explanation,void 0,{trim:!0}]])])}var Q={name:"SetupLongText",computed:{explanation:{get:function(){return this.$store.getters["setup/explanation"]},set:function(e){this.updateExplanation(e)}}},methods:Object(o["a"])({},Object(u["b"])("setup",{updateExplanation:"updateExplanation"}))};n("b4ad");Q.render=N;var U=Q,B={class:"setup-questions"},W={class:"setup-questions__questions"};function Z(e,t,n,a,s,c){var r=Object(i["w"])("RemoveIcon");return Object(i["r"])(),Object(i["f"])("section",B,[Object(i["i"])("div",W,[Object(i["i"])(i["c"],{name:"short-slide-vertical",mode:"in-out"},{default:Object(i["E"])((function(){return[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.showingQuestionInputs,(function(e,n){return Object(i["r"])(),Object(i["f"])("div",{key:n,class:"setup-questions__question question"},[Object(i["i"])("input",{type:"text",placeholder:"Enter a question",class:"setup-questions__question-input question-input",onInput:t[1]||(t[1]=function(e){return c.updateInput()})},null,32),n!==c.showingQuestionInputs-1?(Object(i["r"])(),Object(i["f"])(r,{key:0,class:"setup-questions__question-remove",onClick:function(e){return c.removeInput(n)}},null,8,["onClick"])):Object(i["g"])("",!0)])})),128))]})),_:1})])])}n("4de4"),n("4160"),n("a630"),n("a434"),n("3ca3"),n("159b");var $={name:"SetupQuestions",components:{RemoveIcon:q},data:function(){return{maxNumOfQuestions:3}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("setup",{questions:"questions"})),{},{numOfQuestions:function(){return this.questions.length>this.maxNumOfQuestions?this.maxNumOfQuestions:this.questions.length},underMaxNumOfQuestions:function(){return this.numOfQuestions<=this.maxNumOfQuestions},showingQuestionInputs:function(){return this.numOfQuestions>=this.maxNumOfQuestions?this.maxNumOfQuestions:this.numOfQuestions+1}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("setup",{updateQuestions:"updateQuestions"})),{},{updateInput:function(){var e=this.$el.querySelectorAll(".question-input"),t=Array.from(e,(function(e){return e.value})),n=t.filter((function(e){return""!==e}));this.updateQuestions(n)},removeInput:function(e){var t=this.questions;t.splice(e,1),this.updateQuestions(t),this.syncTemplateWithState()},syncTemplateWithState:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$el.querySelectorAll(".question-input"),n.forEach((function(t,n){return t.value=e.questions[n]||""}));case 2:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.syncTemplateWithState()}};n("1366");$.render=Z;var G=$,J={class:"setup-limits"};function Y(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",J,[Object(i["F"])(Object(i["i"])("input",{type:"text",placeholder:"Enter a limit","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.limits=e}),class:"setup-limits__input"},null,512),[[i["C"],c.limits,void 0,{trim:!0}]])])}var K={name:"SetupLimits",computed:{limits:{get:function(){return this.$store.getters["setup/limits"]},set:function(e){this.updateLimits(e)}}},methods:Object(o["a"])({},Object(u["b"])("setup",{updateLimits:"updateLimits"}))};n("28a1");K.render=Y;var X=K,ee=n("dc59"),te=n("ec26"),ne={name:"Setup",props:["content","stepIndex"],components:{Menu:_["a"],ProgressBar:x,SetupVisualisation:E,SetupLongText:U,SetupQuestions:G,SetupLimits:X},data:function(){return{uploading:!1,animSide:""}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("setup",{visualisation:"visualisation",explanation:"explanation",questions:"questions",limits:"limits"})),{},{totalSteps:function(){return this.content.steps.length},step:function(){return this.content.steps[this.stepIndex-1]},title:function(){return this.step.title},isRequired:function(){return this.step.required},requiredLabel:function(){return this.isRequired?"Required":"Optional"},body:function(){return this.step.body},tips:function(){return this.step.tips},component:function(){return this.step.component},navigation:function(){return this.step.navigation},fileExtension:function(){var e=this.visualisation.name.split(".");return e[e.length-1]},isValidFile:function(){var e=["png","jpg","jpeg"],t=5242880;return e.includes(this.fileExtension)&&this.visualisation.size<=t},animSideClass:function(){return this.animSide?"anim-side--".concat(this.animSide):""}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("project",{updateProgress:"updateProgress",updateSetupProp:"updateSetupProp",updateVisualisation:"updateVisualisation"})),Object(u["b"])("message",{message:"message"})),{},{showDisabledState:function(e){if(!e||!this.isRequired)return!1;switch(this.component){case"SetupVisualisation":return!this.visualisation;case"SetupLongText":return!this.explanation;case"SetupQuestions":return!this.questions.length>0;case"SetupLimits":return!this.limits.length>0;default:console.error("Unhandled button disabled state case");break}},handleNavigationButton:function(e){var t=e.action,n=e.hasDisabled;if("previousStep"===t?this.animSide="right":"nextStep"!==t&&"saveSetup"!==t||(this.animSide="left"),this.showDisabledState(n))"nextStep"===t&&this.message({message:"Input required",mode:"error"});else if(t.hasOwnProperty("target"))this.$router.push({path:"/".concat(t.target)});else if("previousStep"===t||"nextStep"===t||"saveSetup"===t)if("nextStep"===t||"saveSetup"===t)switch(this.component){case"SetupVisualisation":this.uploading||(this.uploading=!0,this.uploadVisualisation(t));break;case"SetupLongText":this.updateSetupProp("explanation"),this.updateProgress({instruction:t});break;case"SetupQuestions":this.updateSetupProp("questions"),this.updateProgress({instruction:t});break;case"SetupLimits":this.updateSetupProp("limits"),this.updateProgress({instruction:t});break;default:console.error("Unhandled case");break}else"previousStep"===t&&this.updateProgress({instruction:"previousStep"})},uploadVisualisation:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.visualisation)if("string"===typeof t.visualisation||t.visualisation instanceof String)t.updateProgress({instruction:e}),t.uploading=!1;else if(t.isValidFile)try{i=Object(te["a"])(),a=ee["f"].child("visualisations/".concat(i)).put(t.visualisation),t.message({message:"Uploading image",duration:1e3}),a.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is ".concat(t,"% done"))}),(function(e){console.error("Error trying to upload file:",e),t.message({message:"Something went wrong",mode:"error"}),t.uploading=!1}),(function(){t.updateProgress({instruction:e}),t.updateVisualisation(i),t.message({message:"Visualisation uploaded",mode:"succes"})}))}catch(s){console.error("Error trying to upload file:",s),t.message({message:"Something went wrong",mode:"error"}),t.uploading=!1}else t.message({message:"Only .png and .jpg files smaller than 5mb allowed",mode:"error"});else t.message({message:"No file selected to upload",mode:"error"});case 1:case"end":return n.stop()}}),n)})))()},beforeEnter:function(){"left"===this.animSide?this.animSide="right":"right"===this.animSide&&(this.animSide="left")},afterEnter:function(){this.animSide=""}})};n("cc84c");ne.render=k;var ie=ne,ae={class:"documentation"},se={class:"documentation__subheading"},ce={class:"documentation__subheading"},re={class:"documentation__question-list"},oe={class:"documentation__icon-container"},ue={key:0,class:"documentation__subheading"},le={key:1,class:"documentation__limits"},be={class:"documentation__icon-container"};function de(e,t,n,a,s,c){var r=Object(i["w"])("Menu"),o=Object(i["w"])("QuestionIcon"),u=Object(i["w"])("LimitIcon"),l=Object(i["w"])("Visualisation");return Object(i["r"])(),Object(i["f"])("section",ae,[Object(i["i"])(r,{hasBack:!0,hasLogout:!1}),e.hideDocumentation?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("div",{key:0,class:["documentation__inner",{"documentation__inner--centered":e.hideVisualisation}]},[Object(i["i"])("h1",null,Object(i["z"])(c.title),1),Object(i["i"])("h3",se,Object(i["z"])(c.explanationHeading),1),Object(i["i"])("p",null,Object(i["z"])(c.explanation),1),Object(i["i"])("h3",ce,Object(i["z"])(c.questionsHeading),1),Object(i["i"])("ul",re,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.questions,(function(e,t){return Object(i["r"])(),Object(i["f"])("li",{key:t,class:"documentation__question"},[Object(i["i"])("span",oe,[Object(i["i"])(o,{class:"documentation__icon documentation__icon--question"})]),Object(i["h"])(" "+Object(i["z"])(e),1)])})),128))]),c.hasLimits?(Object(i["r"])(),Object(i["f"])("h3",ue,Object(i["z"])(c.limitsHeading),1)):Object(i["g"])("",!0),c.hasLimits?(Object(i["r"])(),Object(i["f"])("p",le,[Object(i["i"])("span",be,[Object(i["i"])(u,{class:"documentation__icon documentation__icon--limit"})]),Object(i["h"])(" "+Object(i["z"])(c.limits),1)])):Object(i["g"])("",!0)],2)),Object(i["i"])("div",{class:{"documentation__inner documentation__inner--centered":e.hideDocumentation}},[e.hideVisualisation?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(l,{key:0,class:{"no-documentation":e.hideDocumentation},title:c.title,visualisation:c.visualisation,pageMode:n.pageMode},null,8,["class","title","visualisation","pageMode"]))],2)])}var pe={width:"10",height:"10"},he=Object(i["i"])("path",{d:"M10 1.007L8.993 0 5 3.993 1.007 0 0 1.007 3.993 5 0 8.993 1.007 10 5 6.007 8.993 10 10 8.993 6.007 5 10 1.007z"},null,-1);function me(e,t){return Object(i["r"])(),Object(i["f"])("svg",pe,[he])}const fe={};fe.render=me;var Oe=fe,ge={width:"14",height:"11"},je=Object(i["i"])("path",{d:"M4.319 8.174L1.097 4.952 0 6.042l4.319 4.319 9.271-9.272L12.5 0 4.32 8.174z"},null,-1);function ve(e,t){return Object(i["r"])(),Object(i["f"])("svg",ge,[je])}const ke={};ke.render=ve;var _e=ke,we={key:0,class:"visualisation__title-container"};function ye(e,t,n,a,s,c){var r=Object(i["w"])("Spinner"),o=Object(i["w"])("MarkerIcon");return Object(i["r"])(),Object(i["f"])("section",{class:["visualisation",{"visualisation--marker-overlay":n.isMarkerOverlay}]},[n.title?(Object(i["r"])(),Object(i["f"])("div",we,[Object(i["i"])("h3",null,Object(i["z"])(n.title),1)])):Object(i["g"])("",!0),Object(i["i"])("div",{class:["visualisation__image-container",{"visualisation__image-container--error":s.sourceHasErrored}]},[s.source?(Object(i["r"])(),Object(i["f"])("img",{key:0,src:s.source,draggable:"false",class:"visualisation__image",onClick:t[1]||(t[1]=function(e){return c.addMarker(e)})},null,8,["src"])):Object(i["g"])("",!0),s.source||s.sourceHasErrored?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(r,{key:1})),(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.markersPerComment,(function(e){return Object(i["r"])(),Object(i["f"])("div",{class:"visualisation__comment-markers",key:e},[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(e,(function(e){return Object(i["r"])(),Object(i["f"])(o,{key:e,class:["visualisation__marker",{"visualisation__marker--has-hover--overlay":n.isMarkerOverlay,"visualisation__marker--has-hover--sidebar":c.markerIsFeedbackInteractive}],style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%")},showColor:c.markerIsFeedbackInteractive,color:e.color,onClick:function(t){return c.handleMarkerClick(e)}},null,8,["style","class","showColor","color","onClick"])})),128))])})),128))],2)],2)}n("d81d");var Ie={class:"spinner__container"},Se=Object(i["i"])("div",{class:"spinner__spinner"},null,-1),xe=Object(i["i"])("div",{class:"spinner__spinner"},null,-1),Ce=Object(i["i"])("div",{class:"spinner__spinner"},null,-1);function Me(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("div",Ie,[Se,xe,Ce])}var ze={name:"Spinner"};n("8182");ze.render=Me;var Te=ze,Pe={width:"45",height:"45"},Ae=Object(i["i"])("path",{class:"visualisation__marker-outline",d:"M27.6 21.38c0-3.267-2.385-5.58-5.4-5.58-3.015 0-5.4 2.313-5.4 5.58 0 2.106 1.755 4.896 5.4 8.226 3.645-3.33 5.4-6.12 5.4-8.226zM22.2 14c3.78 0 7.2 2.898 7.2 7.38 0 2.988-2.403 6.525-7.2 10.62-4.797-4.095-7.2-7.632-7.2-10.62 0-4.482 3.42-7.38 7.2-7.38z"},null,-1),He=Object(i["i"])("path",{class:"visualisation__marker-dot",d:"M22.2 23a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"},null,-1);function De(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("svg",Pe,[Object(i["i"])("path",{class:"visualisation__marker-glow",style:{fill:s.markerColor},d:"M22.5 45a22.5 22.5 0 100-45 22.5 22.5 0 000 45z"},null,4),Object(i["i"])("path",{class:"visualisation__marker-background",style:{fill:s.markerColor},d:"M19 16l-2 1.5-1 5 3.5 6.5 2.5 1.5 2-2 2.5-2 1.5-3 .5-2.5v-1.5l-2-2.5-2-2h-2L19 16z"},null,4),Ae,He])}var Le={name:"OverlayMarkerIcon",props:["color","showColor"],data:function(){return{markerColor:null}},methods:Object(o["a"])({},Object(u["b"])("user",{getColorHex:"getColorHex"})),created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.color||!e.showColor){t.next=5;break}return t.next=3,e.getColorHex(e.color);case 3:n=t.sent,e.markerColor=n;case 5:case"end":return t.stop()}}),t)})))()}};Le.render=De;var Ve=Le,qe={name:"Visualisation",components:{Spinner:Te,MarkerIcon:Ve},props:["title","visualisation","isMarkerOverlay","pageMode"],data:function(){return{source:null,sourceHasErrored:!1}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{markers:"markers",sessionMarkers:"sessionMarkers",activeTab:"activeTab"})),Object(u["c"])("feedback",{comments:"comments"})),{},{markersPerComment:function(){var e,t=this;if("view"===this.pageMode&&"insights"===this.activeTab)return null;if("give"===this.pageMode&&"give"===this.activeTab||this.isMarkerOverlay){var n=this.isMarkerOverlay?this.sessionMarkers:this.markers;e=[{markers:n}]}else{if(!("give"===this.pageMode&&"view"===this.activeTab||"view"===this.pageMode&&"feedback"===this.activeTab))return null;e=this.comments}return e.map((function(e){var n=t.cleanSource(e.markers);return n.forEach((function(t){var n;t.color=(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.color)||null,t.commentId=e.id})),n}))},markerIsFeedbackInteractive:function(){return!("give"===this.pageMode&&"give"===this.activeTab||this.isMarkerOverlay)}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{removeSessionMarker:"removeSessionMarker",addSessionMarker:"addSessionMarker"})),Object(u["b"])("message",{message:"message"})),{},{addMarker:function(e){if(this.isMarkerOverlay){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left-22.5,i=e.clientY-t.top-22.5,a=n/t.width*100,s=i/t.height*100,c={id:Date.now(),x:a,y:s};this.addSessionMarker(c)}},handleMarkerClick:function(e){if(this.isMarkerOverlay)this.removeSessionMarker(e.id);else if("give"===this.pageMode&&"view"===this.activeTab||"view"===this.pageMode&&"feedback"===this.activeTab){var t=document.querySelector('[data-comment-id="'.concat(e.commentId,'"]'));if(t){t.scrollIntoView({behavior:"smooth",block:"end"});var n=document.querySelectorAll(".feedback-comments__comment--highlighted");n.forEach((function(e){return e.classList.remove("feedback-comments__comment--highlighted")})),t.classList.add("feedback-comments__comment--highlighted"),setTimeout((function(){t.classList.remove("feedback-comments__comment--highlighted")}),2e3)}}},cleanSource:function(e){return JSON.parse(JSON.stringify(e))}}),created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee["f"].child("visualisations/".concat(e.visualisation)).getDownloadURL();case 3:n=t.sent,e.source=n,t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("Error when trying to get downloadableURL for image:",t.t0),e.message({message:"Could not load visualisation",mode:"error",duration:5e3}),e.sourceHasErrored=!0;case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()}};n("497e");qe.render=ye;var Fe=qe,Ee={name:"Documentation",components:{Menu:_["a"],Visualisation:Fe,LimitIcon:Oe,QuestionIcon:_e},props:["content","pageMode"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{hideDocumentation:"hideDocumentation",hideVisualisation:"hideVisualisation"})),{},{title:function(){return this.content.project.data.title},explanationHeading:function(){return this.content.documentation.explanationHeading},explanation:function(){return this.content.project.data.explanation},questionsHeading:function(){return this.content.documentation.questionsHeading},questions:function(){return this.content.project.data.questions},limitsHeading:function(){return this.content.documentation.limitsHeading},hasLimits:function(){return this.limits.length>0},limits:function(){return this.content.project.data.limits},visualisation:function(){return this.content.project.data.visualisation}})};n("51ab");Ee.render=de;var Re=Ee,Ne={class:"give-sidebar"},Qe={key:0,class:"give-sidebar__inner-wrappers anim-side--left"},Ue={key:1,class:"give-sidebar__inner-wrappers anim-side--right"};function Be(e,t,n,a,s,c){var r=Object(i["w"])("ProgressBar"),o=Object(i["w"])("Tabs"),u=Object(i["w"])("InputInstructions"),l=Object(i["w"])("ConfirmInstructions"),b=Object(i["w"])("ReadInstructions"),d=Object(i["w"])("FeedbackHelper"),p=Object(i["w"])("FeedbackInput"),h=Object(i["w"])("FeedbackComments"),m=Object(i["w"])("NavigationButtons"),f=Object(i["w"])("PopUp");return Object(i["r"])(),Object(i["f"])(i["a"],null,[Object(i["i"])("section",Ne,[Object(i["i"])(r,{total:c.totalSteps,index:n.stepIndex},null,8,["total","index"]),Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["E"])((function(){return[c.tabs?(Object(i["r"])(),Object(i["f"])(o,{key:0,tabs:c.tabs,class:"anim-side--right"},null,8,["tabs"])):Object(i["g"])("",!0)]})),_:1}),Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in",onBeforeEnter:t[1]||(t[1]=function(e){return c.beforeEnter()}),onAfterEnter:t[2]||(t[2]=function(e){return c.afterEnter()})},{default:Object(i["E"])((function(){return[(Object(i["r"])(),Object(i["f"])("div",{class:["give-sidebar__transition-inner",[{"give-sidebar__transition-inner--centered":c.isCentered},c.animSideClass]],key:n.stepIndex},[Object(i["i"])("div",{class:["give-sidebar__inner",{"give-sidebar__inner--centered":c.isCentered}]},[Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["E"])((function(){return["give"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",Qe,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:["give-sidebar__inner-wrapper",{"give-sidebar__inner-wrapper--grow-bottom":"feedbackInput"===t}]},["inputInstructions"===t?(Object(i["r"])(),Object(i["f"])(u,{key:0,content:e,hideDocumentation:c.hideDocumentation,class:"give-sidebar__section sidebar__section--no-padding-vertical"},null,8,["content","hideDocumentation"])):Object(i["g"])("",!0),"confirmInstructions"===t?(Object(i["r"])(),Object(i["f"])(l,{key:1,content:e,hideVisualisation:c.hideVisualisation,class:"give-sidebar__section"},null,8,["content","hideVisualisation"])):Object(i["g"])("",!0),"readInstructions"===t?(Object(i["r"])(),Object(i["f"])(b,{key:2,content:e,legendData:c.legendData,class:"give-sidebar__section"},null,8,["content","legendData"])):Object(i["g"])("",!0),"feedbackHelper"===t?(Object(i["r"])(),Object(i["f"])(d,{key:3,content:e,class:"give-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0),"feedbackInput"===t?(Object(i["r"])(),Object(i["f"])(p,{key:4,content:e,class:"give-sidebar__section sidebar__section--no-padding-vertical"},null,8,["content"])):Object(i["g"])("",!0)],2)})),128))])):"view"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",Ue,["view"===e.activeTab?(Object(i["r"])(!0),Object(i["f"])(i["a"],{key:0},Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:"give-sidebar__inner-wrapper"},["readInstructions"===t?(Object(i["r"])(),Object(i["f"])(b,{key:0,content:e,legendData:c.legendData,class:"give-sidebar__section"},null,8,["content","legendData"])):Object(i["g"])("",!0),"feedbackComments"===t?(Object(i["r"])(),Object(i["f"])(h,{key:1,content:e,class:"give-sidebar__section give-sidebar__section--no-padding-horizontal"},null,8,["content"])):Object(i["g"])("",!0)])})),128)):Object(i["g"])("",!0)])):Object(i["g"])("",!0)]})),_:1}),c.navigation&&c.isCentered&&"give"===e.activeTab?(Object(i["r"])(),Object(i["f"])(m,{key:0,class:"give-sidebar__navigation",buttons:c.navigation,bigMarginTop:!c.hasFeedbackHelper,onHandleNav:c.setAnimSide},null,8,["buttons","bigMarginTop","onHandleNav"])):Object(i["g"])("",!0)],2),Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["E"])((function(){return[c.navigation&&!c.isCentered&&"give"===e.activeTab?(Object(i["r"])(),Object(i["f"])(m,{key:0,buttons:c.navigation,bigMarginTop:!c.hasFeedbackHelper,onHandleNav:c.setAnimSide},null,8,["buttons","bigMarginTop","onHandleNav"])):Object(i["g"])("",!0)]})),_:1})],2))]})),_:1})]),c.popUp&&e.showPopUp?(Object(i["r"])(),Object(i["f"])(f,{key:0,content:c.popUp},null,8,["content"])):Object(i["g"])("",!0)],64)}n("b64b"),n("2532");var We={class:"tabs"};function Ze(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",We,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(n.tabs,(function(t,n){return Object(i["r"])(),Object(i["f"])("div",{key:n,class:["tabs__tab",{"tabs__tab--active":t.value===e.activeTab}],onClick:function(e){return c.handleClick(t.value,n)}},Object(i["z"])(t.label),11,["onClick"])})),128)),Object(i["i"])("div",{class:["tabs__indicator",c.tabIndicatorPosition]},null,2)])}var $e={name:"Tabs",props:["tabs"],data:function(){return{activeTabIndex:0}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{activeTab:"activeTab"})),{},{tabIndicatorPosition:function(){var e=0===this.activeTabIndex?"left":"right";return"tabs__indicator--".concat(e)}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTab:"updateActiveTab"})),{},{handleClick:function(e,t){this.activeTabIndex=t,this.activeTab!==e&&this.updateActiveTab(this.tabs[t].value)}})};n("4ee1");$e.render=Ze;var Ge=$e,Je={class:"input-instructions"},Ye={key:0,class:"input-instructions__header-title"},Ke={key:1,class:"read-instructions__body"},Xe={key:2,class:"input-instructions__tip-list"};function et(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",Je,[c.title?(Object(i["r"])(),Object(i["f"])("h1",Ye,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",Ke,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),c.tips?(Object(i["r"])(),Object(i["f"])("ul",Xe,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.tips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:"input-instructions__tip"},Object(i["z"])(e),1)})),128))])):Object(i["g"])("",!0),Object(i["F"])(Object(i["i"])("textarea",{rows:"6",placeholder:"Note your insights","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.insightInput=e}),class:"input-instructions__input"},null,512),[[i["C"],c.insightInput,void 0,{trim:!0}]])])}var tt={name:"InputInstructions",props:["content","hideDocumentation"],computed:{title:function(){return this.content.title},body:function(){return this.content.body},tips:function(){return this.content.tips||null},insightInput:{get:function(){return this.$store.getters["sidebar/insightInput"]},set:function(e){this.updateInsightInput(e)}}},methods:Object(o["a"])({},Object(u["b"])("sidebar",{updateInsightInput:"updateInsightInput",updateHideDocumentation:"updateHideDocumentation"})),created:function(){this.hideDocumentation&&this.updateHideDocumentation(!0)}};n("ae1a");tt.render=et;var nt=tt,it={key:0,class:"confirm-instructions"},at={key:0};function st(e,t,n,a,s,c){return c.title?(Object(i["r"])(),Object(i["f"])("section",it,[Object(i["i"])("h1",null,Object(i["z"])(c.title),1),c.body?(Object(i["r"])(),Object(i["f"])("p",at,Object(i["z"])(c.body),1)):Object(i["g"])("",!0)])):Object(i["g"])("",!0)}var ct={name:"ConfirmInstructions",props:["content","hideVisualisation"],computed:{title:function(){return this.content.title},body:function(){return this.content.body}},methods:Object(o["a"])({},Object(u["b"])("sidebar",{updateHideVisualisation:"updateHideVisualisation"})),created:function(){this.hideVisualisation&&this.updateHideVisualisation(!0)}};ct.render=st;var rt=ct,ot={class:"read-instructions__header-title"},ut={key:1,class:"read-instructions__reminders"},lt={class:"read-instructions__legend"},bt={class:"read-instructions__legend-icon-container"},dt={key:0,class:"read-instructions__points"},pt={class:"read-instructions__points-icon-container"},ht={key:1,class:"read-instructions__points-label"},mt={class:"read-instructions__points-icon-container"};function ft(e,t,n,a,s,c){var r=Object(i["w"])("ToggleIcon"),o=Object(i["w"])("QuestionIcon"),u=Object(i["w"])("LimitIcon");return c.title?(Object(i["r"])(),Object(i["f"])("section",{key:0,class:["read-instructions",{"read-instructions--has-legend":c.showLegend,"read-instructions--collapsed":s.isCollapsed}]},[Object(i["i"])("div",{class:"read-instructions__header",onClick:t[1]||(t[1]=function(e){return c.handleClick()})},[Object(i["i"])("h1",ot,Object(i["z"])(c.title),1),c.showLegend?(Object(i["r"])(),Object(i["f"])(r,{key:0,class:"read-instructions__header-toggle"})):Object(i["g"])("",!0)]),c.body?(Object(i["r"])(),Object(i["f"])("p",{key:0,class:["read-instructions__body",{"read-instructions__body--no-margin-bottom":!c.legend}]},Object(i["z"])(c.body),3)):Object(i["g"])("",!0),c.showLegend?(Object(i["r"])(),Object(i["f"])("div",ut,[Object(i["i"])("ul",lt,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.legend,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:"read-instructions__legend-label"},[Object(i["i"])("span",bt,["question"===e.type?(Object(i["r"])(),Object(i["f"])(o,{key:0,class:"read-instructions__legend-icon read-instructions__legend-icon--question"})):Object(i["g"])("",!0),"limit"===e.type?(Object(i["r"])(),Object(i["f"])(u,{key:1,class:"read-instructions__legend-icon read-instructions__legend-icon--limit"})):Object(i["g"])("",!0)]),Object(i["h"])(" "+Object(i["z"])(e.label),1)])})),128))]),c.legend?(Object(i["r"])(),Object(i["f"])("ul",dt,[c.hasQuestions?(Object(i["r"])(!0),Object(i["f"])(i["a"],{key:0},Object(i["v"])(c.questions,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:"read-instructions__points-label"},[Object(i["i"])("span",pt,[Object(i["i"])(o,{class:"read-instructions__points-icon read-instructions__points-icon--question"})]),Object(i["h"])(" "+Object(i["z"])(e),1)])})),128)):Object(i["g"])("",!0),c.showLimitsInLegend?(Object(i["r"])(),Object(i["f"])("li",ht,[Object(i["i"])("span",mt,[Object(i["i"])(u,{class:"read-instructions__points-icon read-instructions__points-icon--limit"})]),Object(i["h"])(" "+Object(i["z"])(c.limits),1)])):Object(i["g"])("",!0)])):Object(i["g"])("",!0)])):Object(i["g"])("",!0)],2)):Object(i["g"])("",!0)}n("45fc");var Ot=Object(i["i"])("svg",{width:"12",height:"8"},[Object(i["i"])("path",{d:"M1.41 0L6 4.58 10.59 0 12 1.41l-6 6-6-6L1.41 0z"})],-1);function gt(e,t){return Object(i["r"])(),Object(i["f"])("div",null,[Ot])}const jt={};jt.render=gt;var vt=jt,kt={name:"ReadInstructions",components:{ToggleIcon:vt,LimitIcon:Oe,QuestionIcon:_e},props:["content","legendData"],data:function(){return{isCollapsed:!1}},computed:{title:function(){return this.content.title},body:function(){return this.content.body},legend:function(){return this.content.legend},showLegend:function(){return this.hasLimits?this.showLimitsInLegend:!!this.hasQuestions},limits:function(){return this.legendData.limits},questions:function(){return this.legendData.questions},hasQuestions:function(){var e,t;return null===(e=this.content)||void 0===e||null===(t=e.legend)||void 0===t?void 0:t.some((function(e){return"question"===e.type}))},hasLimits:function(){var e,t;return null===(e=this.content)||void 0===e||null===(t=e.legend)||void 0===t?void 0:t.some((function(e){return"limit"===e.type}))},showLimitsInLegend:function(){return this.hasLimits&&this.limits.length>0}},methods:{handleClick:function(){this.isCollapsed=!this.isCollapsed}}};n("6531");kt.render=ft;var _t=kt,wt={key:0,class:"feedback-helper"},yt={key:0,class:"anim-side--left"},It={key:0},St={key:1},xt={key:1,class:"anim-side--right"},Ct={key:0},Mt={key:1},zt={class:"feedback-helper__tips-list"},Tt={class:"feedback-helper__tips-tip-icon-container"},Pt={class:"feedback-helper__tips-tip-detail-container"},At={class:"feedback-helper__tips-tip-detail"};function Ht(e,t,n,a,s,c){var r=Object(i["w"])("ToggleIcon");return c.hideSection?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("section",wt,[Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["E"])((function(){return[c.zeroTips&&e.showFeedbackHelperZero?(Object(i["r"])(),Object(i["f"])("div",yt,[c.title?(Object(i["r"])(),Object(i["f"])("h2",It,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",St,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),Object(i["i"])("ul",null,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.zeroTips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e},Object(i["z"])(e),1)})),128))])])):c.interactiveTips&&!e.showFeedbackHelperZero?(Object(i["r"])(),Object(i["f"])("div",xt,[c.title?(Object(i["r"])(),Object(i["f"])("h2",Ct,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",Mt,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),Object(i["i"])("ul",zt,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.interactiveTips,(function(t,n){return Object(i["r"])(),Object(i["f"])("li",{key:t,class:["feedback-helper__tips-tip",{"feedback-helper__tips-tip--expanded":e.activeTipIndex===n}],onClick:function(e){return c.handleClick(n)}},[Object(i["i"])("span",Tt,[Object(i["i"])(r,{class:"feedback-helper__tips-tip-icon"})]),Object(i["i"])("span",Pt,[Object(i["h"])(Object(i["z"])(t.heading)+" ",1),Object(i["i"])("span",At,Object(i["z"])(t.detail),1)])],10,["onClick"])})),128))])])):Object(i["g"])("",!0)]})),_:1})]))}var Dt={name:"feedbackHelper",components:{ToggleIcon:vt},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showFeedbackHelperZero:"showFeedbackHelperZero",activeTipIndex:"activeTipIndex"})),{},{currentSection:function(){return this.showFeedbackHelperZero?"zero":"interactive"},hideSection:function(){return this.content.sections[this.currentSection].hide},title:function(){return this.content.sections[this.currentSection].title},body:function(){return this.content.sections[this.currentSection].body},zeroTips:function(){return this.content.sections.zero.tips},interactiveTips:function(){return this.content.sections.interactive.tips}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTipIndex:"updateActiveTipIndex"})),{},{handleClick:function(e){this.updateActiveTipIndex(this.activeTipIndex===e?null:e),this.scrollToInput()},scrollToInput:function(){var e=document.getElementById("input");setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:"end"})}),175)}})};n("45fa");Dt.render=Ht;var Lt=Dt,Vt={class:"feedback-input",id:"input"},qt={class:"feedback-input__container"},Ft={class:"feedback-input__actions"};function Et(e,t,n,a,s,c){var r=Object(i["w"])("MarkerIcon"),o=Object(i["w"])("ImageIconZero"),u=Object(i["w"])("ImageIconActive");return Object(i["r"])(),Object(i["f"])("section",Vt,[Object(i["i"])("div",qt,[Object(i["F"])(Object(i["i"])("textarea",{rows:"6",placeholder:"Don't know what to do? Read the tips above.","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.textInput=e}),class:"feedback-input__input"},null,512),[[i["C"],c.textInput,void 0,{trim:!0}]]),Object(i["i"])("div",Ft,[Object(i["i"])("button",{class:["feedback-input__action feedback-input__action-marker",{"feedback-input__action--active":e.numberOfMarkers>0}],onClick:t[2]||(t[2]=function(e){return c.addMarkers()})},[Object(i["i"])(r,{class:"feedback-input__action-marker-icon"}),Object(i["h"])(" "+Object(i["z"])(c.markerLabel),1)],2),Object(i["i"])("button",{class:["feedback-input__action feedback-input__action-image",{"feedback-input__action--active":e.feedbackImage}],onClick:t[3]||(t[3]=function(e){return c.addImage()})},[e.feedbackImage?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(o,{key:0,class:"feedback-input__action-image-icon"})),e.feedbackImage?(Object(i["r"])(),Object(i["f"])(u,{key:1,class:"feedback-input__action-image-icon"})):Object(i["g"])("",!0),Object(i["h"])(" "+Object(i["z"])(c.imageLabel),1)],2),Object(i["i"])("button",{class:["feedback-input__action feedback-input__action-comment",{"feedback-input__action-comment--disabled":!c.textInput}],onClick:t[4]||(t[4]=function(e){return c.comment()})},"Comment",2)])])])}var Rt={width:"17",height:"20"},Nt=Object(i["i"])("path",{class:"feedback-input__action-marker-icon-background",d:"M3 3L2 4.5 1 9l1.5 3 3 4.5 2.5 2 1.5-1 3-3.5 2-3 .5-2.5-.5-3-1-2-2-1.5L9 1H6.5l-2 1L3 3z"},null,-1),Qt=Object(i["i"])("path",{class:"feedback-input__action-marker-icon-outline",d:"M14 8.2C14 4.57 11.35 2 8 2S2 4.57 2 8.2c0 2.34 1.95 5.44 6 9.14 4.05-3.7 6-6.8 6-9.14zM8 0c4.2 0 8 3.22 8 8.2 0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C0 3.22 3.8 0 8 0z"},null,-1),Ut=Object(i["i"])("path",{class:"feedback-input__action-marker-icon-dot",d:"M8 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"},null,-1);function Bt(e,t){return Object(i["r"])(),Object(i["f"])("svg",Rt,[Nt,Qt,Ut])}const Wt={};Wt.render=Bt;var Zt=Wt,$t={width:"20",height:"18"},Gt=Object(i["i"])("path",{d:"M16 2v14H2V2h14zm0-2H2C.9 0 0 .9 0 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L6 10.14 3 14h12l-3.86-5.14z"},null,-1);function Jt(e,t){return Object(i["r"])(),Object(i["f"])("svg",$t,[Gt])}const Yt={};Yt.render=Jt;var Kt=Yt,Xt={width:"18",height:"18"},en=Object(i["i"])("path",{d:"M16 10.004V16H2V2h3.688a6.971 6.971 0 01.965-2H2C.9 0 0 .9 0 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V2a2.01 2.01 0 00-.005-.137v6.342A7.037 7.037 0 0116 10.004z"},null,-1),tn=Object(i["i"])("path",{d:"M17.995 4.052H16.39v-.048a4.018 4.018 0 00-1.168-2.832A4.005 4.005 0 0010.189.66l.88.88c1.064-.568 2.408-.424 3.304.472.56.56.824 1.296.808 2.032h-1.712l2.264 2.264 2.262-2.254v-.002zm-4.27 2.408l.88.88c-1.552 1.024-3.672.856-5.032-.504a3.94 3.94 0 01-1.16-2.88H6.797L9.06 1.692l2.256 2.264h-1.72v.048c0 .72.272 1.432.824 1.984.896.896 2.24 1.04 3.304.472z"},null,-1),nn=Object(i["i"])("path",{d:"M11.14 9l-3 3.87L6 10.28l-3 3.86h12L11.14 9z"},null,-1);function an(e,t){return Object(i["r"])(),Object(i["f"])("svg",Xt,[en,tn,nn])}const sn={};sn.render=an;var cn=sn,rn={name:"FeedbackInput",components:{MarkerIcon:Zt,ImageIconZero:Kt,ImageIconActive:cn},data:function(){return{labels:{markersZero:"Add markers",imageZero:"Add image",imageActive:"Change image"}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{numberOfMarkers:"numberOfMarkers",feedbackImage:"feedbackImage"})),Object(u["c"])("project",{projectId:"projectId"})),{},{textInput:{get:function(){return this.$store.getters["sidebar/textInput"]},set:function(e){this.updateTextInput(e)}},markerLabel:function(){var e;return e=this.numberOfMarkers>0?"".concat(this.numberOfMarkers," marker"):this.labels.markersZero,e+=this.numberOfMarkers>1?"s":"",e},imageLabel:function(){return this.feedbackImage?this.labels.imageActive:this.labels.imageZero}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateTextInput:"updateTextInput",updateShowMarkerOverlay:"updateShowMarkerOverlay",startNewMarkerSession:"startNewMarkerSession",resetAllMarkers:"resetAllMarkers",updateShowImageSidebar:"updateShowImageSidebar",updateFeedbackImage:"updateFeedbackImage",resetImageState:"resetImageState",updateSelectedImagePreview:"updateSelectedImagePreview"})),Object(u["b"])("feedback",{postComment:"postComment"})),Object(u["b"])("message",{message:"message"})),{},{addMarkers:function(){this.updateShowMarkerOverlay(!0),this.startNewMarkerSession()},addImage:function(){this.updateShowImageSidebar(!0),this.resetImageState()},comment:function(){this.textInput?(this.postComment({projectId:this.projectId,comment:this.textInput}),this.resetAllMarkers(),this.updateFeedbackImage(null),this.resetImageState(),this.updateSelectedImagePreview(null),this.textInput="",this.message({message:"Feedback saved",mode:"succes"})):this.message({message:"Don't forget to enter feedback"})}})};n("e728");rn.render=Et;var on=rn;function un(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",{class:["navigation-buttons",{"navigation-buttons--multiple":c.hasMultiple,"navigation-buttons--big-margin-top":n.bigMarginTop}]},[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(n.buttons,(function(e,t){return Object(i["r"])(),Object(i["f"])("button",{key:t,class:["navigation-buttons__button",{"navigation-buttons__button--outline":e.hasOutline}],onClick:function(t){return c.handleClick(e.action)}},Object(i["z"])(e.label),11,["onClick"])})),128))],2)}var ln={name:"NavigationButtons",props:["buttons","bigMarginTop"],computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{insightInput:"insightInput"})),Object(u["c"])("project",{projectId:"projectId"})),{},{hasMultiple:function(){return this.buttons.length>1}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateTextInput:"updateTextInput",updateHideDocumentation:"updateHideDocumentation",updateHideVisualisation:"updateHideVisualisation"})),Object(u["b"])("feedback",{postInsight:"postInsight"})),Object(u["b"])("project",{updateProgress:"updateProgress"})),Object(u["b"])("message",{message:"message"})),{},{handleClick:function(e){this.$emit("handleNav",e),this.updateTextInput(""),e.hasOwnProperty("target")?(this.$router.push({path:"/".concat(e.target)}),"dashboard"===e.target.toLowerCase()&&this.message({message:"Feedback saved",mode:"succes"})):"previousStep"===e||"nextStep"===e?this.updateProgress({instruction:e}):"saveInsights"===e&&(this.insightInput?(this.updateHideDocumentation(!1),this.updateHideVisualisation(!0),this.updateProgress({instruction:"nextStep",hideVisualisation:!0}),this.postInsight({insight:this.insightInput,projectId:this.projectId}),this.message({message:"Insight saved",mode:"succes"})):this.message({message:"Enter at least one insight"}))}})};n("14ad");ln.render=un;var bn=ln,dn={class:"feedback-comments"},pn={key:0,class:"feedback-comments__title"},hn={key:1,class:"feedback-comments__body"},mn={class:"feedback-comments__list"},fn={class:"feedback-comments__comment-meta"},On={class:"feedback-comments__comment-credentials"},gn={class:"feedback-comments__comment-name"},jn={class:"feedback-comments__comment-role"},vn={key:2,class:"feedback-comments__agrees-container"},kn={class:"feedback-comments__agrees-label"};function _n(e,t,n,a,s,c){var r=Object(i["w"])("Avatar"),o=Object(i["w"])("FeedbackImage"),u=Object(i["w"])("AgreeIconZero"),l=Object(i["w"])("AgreeIconActive");return Object(i["r"])(),Object(i["f"])("section",dn,[c.title&&c.hasComments?(Object(i["r"])(),Object(i["f"])("h1",pn,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body&&c.hasComments?(Object(i["r"])(),Object(i["f"])("p",hn,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),Object(i["i"])("ul",mn,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.comments,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:"feedback-comments__comment","data-comment-id":e.id},[Object(i["i"])("div",fn,[e.user?(Object(i["r"])(),Object(i["f"])(r,{key:0,user:e.user,size:"small",class:"feedback-comments__comment-avatar"},null,8,["user"])):Object(i["g"])("",!0),Object(i["i"])("div",On,[Object(i["i"])("h3",gn,Object(i["z"])(e.user.name),1),Object(i["i"])("p",jn,Object(i["z"])(e.user.role),1)])]),e.image?(Object(i["r"])(),Object(i["f"])(o,{key:0,imageId:e.image},null,8,["imageId"])):Object(i["g"])("",!0),Object(i["h"])(" "+Object(i["z"])(e.text)+" ",1),c.isOwner?c.isOwner&&e.agrees.length>0?(Object(i["r"])(),Object(i["f"])("div",vn,[Object(i["i"])(l,{class:"feedback-comments__agrees-icon"}),Object(i["i"])("p",kn,Object(i["z"])(e.agrees.length)+" "+Object(i["z"])(1===e.agrees.length?"person":"people")+" agreed",1)])):Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("div",{key:1,class:"feedback-comments__agree-container",onClick:function(t){return c.handleClick(e)}},[c.isAgreed(e)?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(u,{key:0,class:"feedback-comments__agree-icon feedback-comments__agree-icon--zero"})),c.isAgreed(e)?(Object(i["r"])(),Object(i["f"])(l,{key:1,class:"feedback-comments__agree-icon feedback-comments__agree-icon--active"})):Object(i["g"])("",!0),Object(i["i"])("p",{class:["feedback-comments__agree-label",{"feedback-comments__agree-label--active":c.isAgreed(e)}]},Object(i["z"])(c.isAgreed(e)?"Agreed":"Agree"),3)],8,["onClick"]))],8,["data-comment-id"])})),128))])])}n("99af");var wn={width:"16",height:"16"},yn=Object(i["i"])("path",{d:"M11.672 4.464L6.4 9.736 3.528 6.872 2.4 8l4 4 6.4-6.4-1.128-1.136zM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.398 6.398 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4z"},null,-1);function In(e,t){return Object(i["r"])(),Object(i["f"])("svg",wn,[yn])}const Sn={};Sn.render=In;var xn=Sn,Cn={width:"16",height:"16"},Mn=Object(i["i"])("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zM6.4 12l-4-4 1.128-1.128L6.4 9.736l6.072-6.072L13.6 4.8 6.4 12z"},null,-1);function zn(e,t){return Object(i["r"])(),Object(i["f"])("svg",Cn,[Mn])}const Tn={};Tn.render=zn;var Pn=Tn,An=n("df3a"),Hn={class:"feedback-image"};function Dn(e,t,n,a,s,c){var r=Object(i["w"])("Spinner");return Object(i["r"])(),Object(i["f"])("div",Hn,[s.source?(Object(i["r"])(),Object(i["f"])("img",{key:0,src:s.source,class:"feedback-image__image"},null,8,["src"])):Object(i["g"])("",!0),s.source?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(r,{key:1}))])}var Ln={name:"FeedbackImage",components:{Spinner:Te},props:["imageId"],data:function(){return{source:null}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee["f"].child("feedback/".concat(e.imageId)).getDownloadURL();case 3:e.source=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error("Could not load feedback image ".concat(e.imageId));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}};n("daa8");Ln.render=Dn;var Vn=Ln,qn={name:"FeedbackComments",components:{AgreeIconZero:xn,AgreeIconActive:Pn,Avatar:An["a"],FeedbackImage:Vn},props:["content"],computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("feedback",{projectComments:"comments"})),Object(u["c"])("user",{userId:"id"})),Object(u["c"])("project",{projectId:"projectId",owner:"owner"})),{},{hasComments:function(){return this.projectComments.length>0},comments:function(){return this.isOwner?this.commentsByAgrees:this.commentsByTime},commentsByAgrees:function(){var e=this.projectComments;return e.sort((function(e,t){return t.agrees.length-e.agrees.length}))},commentsByTime:function(){var e=this.projectComments;return e.sort((function(e,t){return t.ts-e.ts}))},title:function(){return this.content.title},body:function(){return this.content.body},isOwner:function(){return this.owner===this.userId}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("feedback",{getComments:"getComments",updateAgrees:"updateAgrees"})),{},{getInitials:function(e){var t=e.split(" "),n=t.length>1,i=t[0][0],a=t[t.length-1][0];return n?"".concat(i).concat(a):i},handleClick:function(e){this.updateAgrees({projectId:this.projectId,commentId:e.id})},isAgreed:function(e){var t=this;return e.agrees.some((function(e){return e===t.userId}))}}),created:function(){this.getComments(this.projectId)}};n("5b81");qn.render=_n;var Fn=qn,En={class:"pop-up"},Rn={class:"pop-up__inner"},Nn={key:0},Qn={class:"pop-up__tip-list"},Un={key:0,class:"pop-up__tip-icon-container"};function Bn(e,t,n,a,s,c){var r=Object(i["w"])("QuestionIcon"),o=Object(i["w"])("LimitIcon");return Object(i["r"])(),Object(i["f"])("section",En,[Object(i["i"])("div",Rn,[Object(i["i"])("h1",null,Object(i["z"])(c.title),1),Object(i["i"])("p",{class:["pop-up__body",{"pop-up__body--extra-margin-bottom":c.hasTipsSection}]},Object(i["z"])(c.body),3),c.hasTipsSection?(Object(i["r"])(),Object(i["f"])("div",Nn,[Object(i["i"])("h3",null,Object(i["z"])(c.tipHeading),1),Object(i["i"])("ul",Qn,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.tips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:["pop-up__tip","pop-up__tip--".concat(e.type)]},["normal"!==e.type?(Object(i["r"])(),Object(i["f"])("span",Un,["question"===e.type?(Object(i["r"])(),Object(i["f"])(r,{key:0,class:"pop-up__tip-icon--question"})):Object(i["g"])("",!0),"limit"===e.type?(Object(i["r"])(),Object(i["f"])(o,{key:1,class:"pop-up__tip-icon--limit"})):Object(i["g"])("",!0)])):Object(i["g"])("",!0),Object(i["h"])(" "+Object(i["z"])(e.label),1)],2)})),128))])])):Object(i["g"])("",!0),Object(i["i"])("button",{class:"pop-up__button",onClick:t[1]||(t[1]=function(t){return c.handleClick(e.button)})},Object(i["z"])(c.buttonLabel),1)])])}var Wn={name:"PopUp",components:{LimitIcon:Oe,QuestionIcon:_e},props:["content"],computed:{title:function(){return this.content.title},body:function(){return this.content.body},hasTipsSection:function(){var e;return this.content.tipHeading&&(null===(e=this.content.tips)||void 0===e?void 0:e.length)>0},tipHeading:function(){return this.content.tipHeading},tips:function(){return this.content.tips},buttonLabel:function(){return this.content.buttonLabel}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateShowPopUp:"updateShowPopUp"})),{},{handleClick:function(){this.updateShowPopUp()}})};n("d6f2");Wn.render=Bn;var Zn=Wn,$n={name:"GiveSidebar",components:{ProgressBar:x,Tabs:Ge,InputInstructions:nt,ConfirmInstructions:rt,ReadInstructions:_t,FeedbackHelper:Lt,FeedbackInput:on,NavigationButtons:bn,FeedbackComments:Fn,PopUp:Zn},props:["content","stepIndex"],data:function(){return{animSide:""}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showPopUp:"showPopUp",activeTab:"activeTab"})),{},{step:function(){return this.content.sidebar.steps[this.stepIndex-1]},popUp:function(){return this.step.popUp},legendData:function(){return{limits:this.content.project.data.limits,questions:this.content.project.data.questions}},totalSteps:function(){return this.content.sidebar.steps.length},tabs:function(){return this.step.isCentered?null:this.content.sidebar.tabs},sections:function(){return"give"===this.activeTab?this.step.content:this.content.sidebar.viewFeedbackSections},isCentered:function(){return this.step.isCentered},hideDocumentation:function(){return this.step.hideDocumentation},hideVisualisation:function(){return this.step.hideVisualisation},navigation:function(){return this.step.navigation},hasFeedbackHelper:function(){return Object.keys(this.sections).includes("feedbackHelper")},animSideClass:function(){return this.animSide?"anim-side--".concat(this.animSide):""}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTab:"updateActiveTab"})),{},{setAnimSide:function(e){"previousStep"===e?this.animSide="right":"nextStep"!==e&&"saveInsights"!==e||(this.animSide="left")},beforeEnter:function(){"left"===this.animSide?this.animSide="right":"right"===this.animSide&&(this.animSide="left")},afterEnter:function(){this.animSide=""}}),created:function(){this.updateActiveTab("give")}};n("9b17");$n.render=Be;var Gn=$n,Jn={class:"view-sidebar"},Yn={class:"view-sidebar__inner"},Kn={key:0,class:"view-sidebar__inner-wrappers anim-side--left"},Xn={key:1,class:"view-sidebar__inner-wrapper anim-side--right"};function ei(e,t,n,a,s,c){var r=Object(i["w"])("Tabs"),o=Object(i["w"])("ReadInstructions"),u=Object(i["w"])("Insights"),l=Object(i["w"])("FeedbackComments");return Object(i["r"])(),Object(i["f"])("section",Jn,[c.tabs?(Object(i["r"])(),Object(i["f"])(r,{key:0,tabs:c.tabs},null,8,["tabs"])):Object(i["g"])("",!0),Object(i["i"])("div",Yn,[Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["E"])((function(){return["insights"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",Kn,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:"view-sidebar__inner-wrapper"},["readInstructions"===t?(Object(i["r"])(),Object(i["f"])(o,{key:0,content:e,class:"view-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0),"insights"===t?(Object(i["r"])(),Object(i["f"])(u,{key:1,content:e,class:"view-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0)])})),128))])):"feedback"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",Xn,["feedback"===e.activeTab?(Object(i["r"])(!0),Object(i["f"])(i["a"],{key:0},Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:"view-sidebar__inner-wrapper"},["readInstructions"===t?(Object(i["r"])(),Object(i["f"])(o,{key:0,content:e,class:"view-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0),"feedbackComments"===t?(Object(i["r"])(),Object(i["f"])(l,{key:1,content:e,class:"view-sidebar__section view-sidebar__section--no-padding-horizontal"},null,8,["content"])):Object(i["g"])("",!0)])})),128)):Object(i["g"])("",!0)])):Object(i["g"])("",!0)]})),_:1})])])}n("7db0");var ti={class:"insights"},ni={key:0,class:"insights__title"},ii={class:"insights__list"},ai={class:"insights__insight-meta"},si={class:"insights__insight-credentials"},ci={class:"insights__insight-name"},ri={class:"insights__insight-role"};function oi(e,t,n,a,s,c){var r=Object(i["w"])("Avatar");return Object(i["r"])(),Object(i["f"])("section",ti,[c.title&&c.hasInsights?(Object(i["r"])(),Object(i["f"])("h1",ni,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),Object(i["i"])("ul",ii,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(e.insights,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e.data,class:"insights__insight"},[Object(i["i"])("div",ai,[e.data.user?(Object(i["r"])(),Object(i["f"])(r,{key:0,user:e.data.user,size:"small",class:"insights__insight-avatar"},null,8,["user"])):Object(i["g"])("",!0),Object(i["i"])("div",si,[Object(i["i"])("h3",ci,Object(i["z"])(e.data.user.name),1),Object(i["i"])("p",ri,Object(i["z"])(e.data.user.role),1)])]),Object(i["h"])(" "+Object(i["z"])(e.data.insight),1)])})),128))])])}var ui={name:"Insights",props:["content"],components:{Avatar:An["a"]},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("feedback",{insights:"insights"})),{},{hasInsights:function(){return this.insights.length>0},title:function(){return this.content.title}}),methods:Object(o["a"])({},Object(u["b"])("feedback",{getInsights:"getInsights"})),created:function(){this.getInsights()}};n("2bcd");ui.render=oi;var li=ui,bi={name:"ViewSidebar",components:{Tabs:Ge,ReadInstructions:_t,FeedbackComments:Fn,Insights:li},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{activeTab:"activeTab"})),{},{tabs:function(){return this.content.sidebar.tabs},sections:function(){var e=this,t=this.tabs.find((function(t){return t.value===e.activeTab}));return t.content}}),methods:Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTab:"updateActiveTab"})),created:function(){this.updateActiveTab("insights")}};n("e284");bi.render=ei;var di=bi,pi={class:"confirm-sidebar"},hi={class:"confirm-sidebar__inner"},mi={key:0},fi={key:1},Oi={key:2,class:"confirm-sidebar__rules-container"},gi={class:"confirm-sidebar__rules"},ji={key:3},vi=Object(i["i"])("p",{class:"confirm-sidebar__dropzone-label"},[Object(i["h"])("Drop a file or "),Object(i["i"])("span",{class:"confirm-sidebar__dropzone-label--underline"},"browse")],-1),ki={key:1,class:"confirm-sidebar__preview-container"};function _i(e,t,n,a,s,c){var r=Object(i["w"])("RemoveIcon");return Object(i["r"])(),Object(i["f"])("section",pi,[Object(i["i"])("div",hi,[c.title?(Object(i["r"])(),Object(i["f"])("h1",mi,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",fi,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),c.rules?(Object(i["r"])(),Object(i["f"])("div",Oi,[Object(i["i"])("p",gi,Object(i["z"])(c.rules),1)])):Object(i["g"])("",!0),e.showImageSidebar?(Object(i["r"])(),Object(i["f"])("div",ji,[e.selectedImagePreview?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("form",{key:0,class:"confirm-sidebar__dropzone",onDrop:t[2]||(t[2]=Object(i["H"])((function(e){return c.handleDrop(e)}),["prevent"])),onDragenter:t[3]||(t[3]=Object(i["H"])((function(){}),["prevent"])),onDragover:t[4]||(t[4]=Object(i["H"])((function(){}),["prevent"])),onClick:t[5]||(t[5]=function(e){return c.openFilePicker()})},[Object(i["i"])("input",{class:"confirm-sidebar__dropzone-input",type:"file",ref:"feedbackImageInput",onChange:t[1]||(t[1]=function(e){return c.selectFile(e)})},null,544),vi],32)),e.selectedImagePreview?(Object(i["r"])(),Object(i["f"])("div",ki,[Object(i["i"])("img",{src:e.selectedImagePreview,class:"confirm-sidebar__preview"},null,8,["src"]),Object(i["i"])("div",{class:"confirm-sidebar__preview-remove",onClick:t[6]||(t[6]=function(e){return c.removeSelectedFile()})},[Object(i["i"])(r,{class:"confirm-sidebar__preview-remove-icon"})])])):Object(i["g"])("",!0)])):Object(i["g"])("",!0),Object(i["i"])("div",{class:["confirm-sidebar__buttons",{"confirm-sidebar__buttons--multiple":c.hasMultiple}]},[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.navigation,(function(e,t){return Object(i["r"])(),Object(i["f"])("button",{key:t,class:["confirm-sidebar__button",{"confirm-sidebar__button--outline":e.hasOutline,"confirm-sidebar__button--disabled":c.showDisabledState(e.hasDisabled)}],onClick:function(t){return c.handleNavigationButton(e)}},Object(i["z"])(e.label),11,["onClick"])})),128))],2)])])}var wi={name:"ConfirmSidebar",components:{RemoveIcon:q},props:["content"],data:function(){return{removedImage:null}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showMarkerOverlay:"showMarkerOverlay",markersAreChanged:"markersAreChanged",showImageSidebar:"showImageSidebar",feedbackImage:"feedbackImage",selectedImageBackup:"selectedImageBackup",selectedImage:"selectedImage",selectedImagePreview:"selectedImagePreview",imageIsChanged:"imageIsChanged"})),{},{title:function(){return this.content.title},body:function(){return this.content.body},rules:function(){return this.content.rules},navigation:function(){return this.content.navigation},hasMultiple:function(){return this.content.navigation.length>1},fileExtension:function(){var e=this.selectedImage.name.split(".");return e[e.length-1]},isValidFile:function(){var e=["png","jpg","jpeg"],t=5242880;return e.includes(this.fileExtension)&&this.selectedImage.size<=t}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateShowMarkerOverlay:"updateShowMarkerOverlay",saveSessionMarkers:"saveSessionMarkers",updateShowImageSidebar:"updateShowImageSidebar",updateSelectedImage:"updateSelectedImage",updateSelectedImagePreview:"updateSelectedImagePreview",updateFeedbackImage:"updateFeedbackImage",resetImageState:"resetImageState"})),Object(u["b"])("message",{message:"message"})),{},{showDisabledState:function(e){return this.showMarkerOverlay?e&&!this.markersAreChanged:this.showImageSidebar?e&&!this.imageIsChanged:void 0},openFilePicker:function(){this.$refs.feedbackImageInput.click()},handleDrop:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==e.dataTransfer.files.length){n.next=9;break}return t.updateSelectedImage(e.dataTransfer.files[0]),n.t0=t,n.next=5,t.getPreview();case 5:n.t1=n.sent,n.t0.updateSelectedImagePreview.call(n.t0,n.t1),n.next=10;break;case 9:t.message({message:"Too many files selected",mode:"error"});case 10:case"end":return n.stop()}}),n)})))()},selectFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.updateSelectedImage(e.target.files[0]),n.t0=t,n.next=4,t.getPreview();case 4:n.t1=n.sent,n.t0.updateSelectedImagePreview.call(n.t0,n.t1);case 6:case"end":return n.stop()}}),n)})))()},removeSelectedFile:function(){this.updateSelectedImage(null),this.removedImage=this.selectedImagePreview,this.updateSelectedImagePreview(null)},handleNavigationButton:function(e){var t=e.action;switch(t.hasOwnProperty("target")&&this.$router.push(t.target),t){case"cancelMarkers":this.updateShowMarkerOverlay(!1);break;case"saveMarkers":this.markersAreChanged&&(this.updateShowMarkerOverlay(!1),this.saveSessionMarkers(),this.message({message:"Marker changes saved",mode:"succes"}));break;case"cancelImage":this.updateShowImageSidebar(!1),this.imageIsChanged&&(this.resetImageState(),this.updateSelectedImagePreview(this.removedImage),this.feedbackImage||this.updateSelectedImagePreview(null));break;case"saveImage":this.imageIsChanged&&(this.upload(),this.updateShowImageSidebar(!1),this.selectedImage||this.message({message:"Image changes saved",mode:"succes"}));break;default:console.log("switch case not handled"),this.message({message:"Something unexpected happened",mode:"error"})}},getPreview:function(){var e=this;return new Promise((function(t,n){var i=new FileReader;i.onload=function(){return t(i.result)},i.onerror=function(){return n()},i.readAsDataURL(e.selectedImage)}))},upload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedImage)if(e.isValidFile)try{n=Object(te["a"])(),i=ee["f"].child("feedback/".concat(n)).put(e.selectedImage),i.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is ".concat(t,"% done"))}),(function(t){console.error("Error trying to upload file:",t),e.message({message:"Something went wrong",mode:"error"})}),(function(){e.updateFeedbackImage({id:n,file:e.selectedImage}),e.message({message:"Image added to feedback",mode:"succes"})}))}catch(a){console.error("Error trying to upload file:",a),e.message({message:"Something went wrong",mode:"error"})}else e.message({message:"Only .png and .jpg files smaller than 5mb allowed",mode:"error"}),e.updateShowImageSidebar(!1),e.resetImageState(),e.updateSelectedImagePreview(null);else e.updateFeedbackImage(null),e.resetImageState();case 1:case"end":return t.stop()}}),t)})))()}})};n("4980");wi.render=_i;var yi=wi,Ii={class:"marker-overlay"};function Si(e,t,n,a,s,c){var r=Object(i["w"])("Visualisation"),o=Object(i["w"])("ConfirmSidebar");return Object(i["r"])(),Object(i["f"])("section",Ii,[Object(i["i"])(r,{visualisation:c.visualisation,isMarkerOverlay:!0},null,8,["visualisation"]),Object(i["i"])(o,{content:c.markerContent},null,8,["content"])])}var xi={name:"MarkerOverlay",components:{Visualisation:Fe,ConfirmSidebar:yi},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("project",{project:"project"})),{},{visualisation:function(){return this.project.data.visualisation},markerContent:function(){return this.content.markerContent}})};xi.render=Si;var Ci=xi,Mi={name:"Project",inheritAttrs:!1,components:{Setup:ie,Documentation:Re,GiveSidebar:Gn,ViewSidebar:di,ConfirmSidebar:yi,MarkerOverlay:Ci},data:function(){return{page:null,progress:null}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showMarkerOverlay:"showMarkerOverlay",showImageSidebar:"showImageSidebar"})),Object(u["c"])("project",{project:"project",owner:"owner",newProgressAvailable:"newProgressAvailable"})),Object(u["c"])("user",{userId:"id"})),{},{pageContent:function(){switch(this.page){case"setup":return l;case"give":return d;case"view":return p;default:return null}},pageIsGiveOrView:function(){return"give"===this.page||"view"===this.page},documentation:function(){return b},sidebar:function(){return this.pageContent},imageContent:function(){return this.pageContent.imageContent},markerContent:function(){return this.pageContent.markerContent}}),watch:{newProgressAvailable:function(e){e&&(this.syncProgress(),this.resetNewProgressAvailable())}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("project",{getProgress:"getProgress",resetNewProgressAvailable:"resetNewProgressAvailable"})),{},{syncProgress:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProgress();case 2:n=t.sent,e.page=n.type,e.progress=n.progress;case 5:case"end":return t.stop()}}),t)})))()}}),created:function(){this.syncProgress()}};n("1d32");Mi.render=c;t["default"]=Mi},"0bf2":function(e,t,n){},1366:function(e,t,n){"use strict";n("f44e")},"14ad":function(e,t,n){"use strict";n("41fb")},"1d32":function(e,t,n){"use strict";n("8ac5")},"28a1":function(e,t,n){"use strict";n("2e1d")},"2bcd":function(e,t,n){"use strict";n("31a7")},"2d46":function(e,t,n){},"2e1d":function(e,t,n){},"2edb":function(e,t,n){},3080:function(e,t,n){"use strict";n("45a0")},"31a7":function(e,t,n){},"3cf0":function(e,t,n){},"3ffe":function(e,t,n){},"41fb":function(e,t,n){},"45a0":function(e,t,n){},"45fa":function(e,t,n){"use strict";n("52f8")},"497e":function(e,t,n){"use strict";n("bce2")},4980:function(e,t,n){"use strict";n("985b")},"4ee1":function(e,t,n){"use strict";n("fa12")},"51ab":function(e,t,n){"use strict";n("9049")},"52f8":function(e,t,n){},5585:function(e,t,n){},"5b81":function(e,t,n){"use strict";n("8d49")},"5b96":function(e,t,n){},"64e6":function(e,t,n){},6531:function(e,t,n){"use strict";n("2edb")},8182:function(e,t,n){"use strict";n("2d46")},"8ac5":function(e,t,n){},"8d49":function(e,t,n){},9049:function(e,t,n){},"985b":function(e,t,n){},"9b17":function(e,t,n){"use strict";n("3cf0")},ae1a:function(e,t,n){"use strict";n("5585")},aea9:function(e,t,n){},b29c:function(e,t,n){"use strict";n("01f5")},b4ad:function(e,t,n){"use strict";n("0bf2")},bce2:function(e,t,n){},cc84c:function(e,t,n){"use strict";n("3ffe")},d2dd:function(e,t,n){},d6f2:function(e,t,n){"use strict";n("d2dd")},daa8:function(e,t,n){"use strict";n("64e6")},e284:function(e,t,n){"use strict";n("5b96")},e728:function(e,t,n){"use strict";n("aea9")},f44e:function(e,t,n){},fa12:function(e,t,n){}}]);
//# sourceMappingURL=project.9826428d.js.map