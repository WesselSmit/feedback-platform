(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["project"],{"0138":function(e,t,n){},"07bd":function(e,t,n){"use strict";n.r(t);var i=n("7a23"),a={key:0},s={key:1,class:"columns"};function c(e,t,n,c,r,o){var u=Object(i["w"])("Setup"),l=Object(i["w"])("Documentation"),b=Object(i["w"])("GiveSidebar"),d=Object(i["w"])("ViewSidebar"),p=Object(i["w"])("ConfirmSidebar"),h=Object(i["w"])("MarkerOverlay");return Object(i["r"])(),Object(i["f"])(i["a"],null,["setup"!==r.page||e.showMarkerOverlay?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("main",a,[Object(i["i"])(u,{content:o.pageContent,stepIndex:r.progress},null,8,["content","stepIndex"])])),o.pageIsGiveOrView&&!e.showMarkerOverlay?(Object(i["r"])(),Object(i["f"])("main",s,[Object(i["i"])(l,{pageMode:r.page,content:{project:e.project,documentation:o.documentation}},null,8,["pageMode","content"]),"give"!==r.page||e.showImageSidebar?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(b,{key:0,content:{project:e.project,documentation:o.documentation,sidebar:o.sidebar},stepIndex:r.progress},null,8,["content","stepIndex"])),"view"!==r.page||e.showImageSidebar?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(d,{key:1,content:{project:e.project,documentation:o.documentation,sidebar:o.sidebar}},null,8,["content"])),e.showImageSidebar?(Object(i["r"])(),Object(i["f"])(p,{key:2,content:o.imageContent},null,8,["content"])):Object(i["g"])("",!0)])):Object(i["g"])("",!0),e.showMarkerOverlay?(Object(i["r"])(),Object(i["f"])(h,{key:2,content:{documentation:o.documentation,markerContent:o.markerContent},class:"columns"},null,8,["content"])):Object(i["g"])("",!0)],64)}n("96cf");var r=n("1da1"),o=n("5530"),u=n("5502"),l={steps:[{required:!0,title:"Upload your data visualisation",body:"Make sure the data visualisation is cropped correctly. A title in the image is not necessary.",tips:[],component:"SetupVisualisation",disclaimer:"Only .png and .jpg files smaller than 5mb allowed",navigation:[{label:"Dashboard",action:{target:"dashboard"}},{label:"Next",hasOutline:!0,hasDisabled:!0,action:"nextStep"}]},{required:!0,title:"What is your data visualisation about?",body:"Explain what the poeple are looking at. What data have you visualised and why? What are the most interesting findings of your visualisation?",tips:["What are the most interesting conclusions?","Have you found any patterns or causes that can explain the conclusions?"],component:"SetupLongText",navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,hasDisabled:!0,action:"nextStep"}]},{required:!0,title:"What would you like feedback on?",body:"The key to receiving useful feedback is asking the right questions. Enter questions you want your feedback providers to answer.",tips:["Are there specific parts you found difficult and want feedback on?","Think about the problems and choices you faced."],component:"SetupQuestions",navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,hasDisabled:!0,action:"nextStep"}]},{title:"What don’t you want feedback on?",body:"Is there a part that needs to be changed, but haven’t had the time to do it? Write it down to ensure your feedback providers exclude it from their feedback.",tips:["Only write down a change you know you're guaranteed make in the future.","Be specific, don't use umbrella terms such as: design."],component:"SetupLimits",navigation:[{label:"Previous",action:"previousStep"},{label:"Save",hasOutline:!0,hasDisabled:!0,action:"saveSetup"}]}]},b={explanationHeading:"Explanation",questionsHeading:"I want feedback on...",limitsHeading:"I don't want feedback on..."},d={tabs:[{label:"Give feedback",value:"give"},{label:"View feedback",value:"view"}],steps:[{isCentered:!0,hideDocumentation:!0,content:{inputInstructions:{title:"Note your insights",body:"What insights can you gather from the data visualisation? What conclusions can you draw? Write them down.",disclaimer:"Don't give feedback yet, you'll do that in the next steps."}},navigation:[{label:"Submit",hasDisabled:!0,action:"saveInsights"}]},{popUp:{title:"About giving feedback...",body:'The purpose of your feedback is to make the data visualization as good as possible. Always ask yourself "does this help improve the data visualisation?" before commenting.',tipHeading:"Some tips:",tips:[{type:"normal",label:"You can post multiple comments."},{type:"normal",label:"Indicate the relevant data visualisation parts using markers."},{type:"normal",label:'You can see the feedback of others by clicking on the "view feedback" tab.'}],buttonLabel:"Got it"},content:{readInstructions:{title:"Answer the feedback questions",body:"Answer the feedback question(s) below.",legend:[{type:"question",label:"Answer the questions below"}]},feedbackHelper:{sections:{zero:{title:"How to answer feedback questions:",body:"",tips:["Support your answers by explaining why, answers without arguments are not useful.",'You can see the anwers of others by clicking on the "view feedback" tab (top right corner).']},interactive:{title:"How to write valuable feedback:",body:"Use the tips below to make your feedback clear and useful.",tips:[{heading:"Keep it objective.",detail:'Feedback should be as objective as possible, so refrain from using opions or subjective words such as "beautiful" and "ugly". → "The yellow colors look beautiful" should be "The yellow colors make the legend stand out".'},{heading:"Suggest a solution.",detail:"Suggest a solution or alternative to fix the problem, make sure the suggestion is well explained. → add a sketch of your suggestion to your comment."},{heading:"Visually support your feedback.",detail:"Adding a visual aspect to your feedback (such as markers) helps others interpret your feedback, making it easier to get your point across."}]}}},feedbackInput:!0},navigation:[{label:"Next",hasOutline:!0,action:"nextStep"}]},{content:{readInstructions:{title:"Name areas for improvement",body:"Look for other areas that could be improved to make the data visualisation more insightful or visually stronger.",legend:[{type:"limit",label:"Don't include this in your feedback"}]},feedbackHelper:{sections:{zero:{title:"Ask yourself this",body:"You can use the questions below if you're stuck.",tips:["Is the correct visualisation type used?","Is there anything that you don't understand?","Are the labels and texts legible?","Are there design or editorial choices that can mislead the interpreter?"]},interactive:{title:"How to write valuable feedback:",body:"Use the tips below to make your feedback clear and useful.",tips:[{heading:"Explain why it's a problem.",detail:'When you have found an area for improvement, explain why it needs to be changed. → "Make the lines thicker" should be "By making the line thicker you create more contrast".'},{heading:"Keep it objective.",detail:'Feedback should be as objective as possible, so refrain from using opions or subjective words such as "beautiful" and "ugly". → "The yellow colors look beautiful" should be "The yellow colors make the legend stand out".'},{heading:"Suggest a solution.",detail:"Suggest a solution or alternative to fix the problem, make sure the suggestion is well explained. → add a sketch of your suggestion to your comment."}]}}},feedbackInput:!0},navigation:[{label:"Previous",action:"previousStep"},{label:"Next",hasOutline:!0,action:"nextStep"}]},{content:{readInstructions:{title:"Name positive parts",body:"Name parts of the data visualisation that work well or that you found enjoyable, this decreases the chance of it being removed in a future iteration."},feedbackHelper:{sections:{zero:{title:"Ask yourself this:",body:"You can use the questions below if you're stuck.",tips:["What do you like about the visualisation?","Do you understand the visualisation? If so, you should let the creator know.","Is the visualization aesthetically pleasing?"]},interactive:{title:"How to write valuable feedback:",body:"Use the tips below to make your feedback clear and useful.",tips:[{heading:"Explain why it's good.",detail:'When you name something positive, explain what makes it good. → "The colors are good" should be "The color contrast makes the text easy to read".'},{heading:"Keep it objective.",detail:'Feedback should be as objective as possible, so refrain from using opions or subjective words such as "beautiful" and "ugly". → "The yellow colors look beautiful" should be "The yellow colors make the legend stand out".'},{heading:"Add markers.",detail:"Adding markers allows you to clearly show what part of the visualisation your feedback relates to, this helps others to understand your feedback."}]}}},feedbackInput:!0},navigation:[{label:"Previous",action:"previousStep"},{label:"Save",hasOutline:!0,action:{target:"dashboard"}}]}],viewFeedbackSections:{feedbackComments:{title:"All feedback"}},markerContent:{title:"Mark the relevant parts.",body:"Place and remove markers by clicking on the visualisation.",navigation:[{label:"Cancel",action:"cancelMarkers"},{label:"Save",hasOutline:!0,hasDisabled:!0,action:"saveMarkers"}]},imageContent:{title:"Add an image to your feedback.",body:"Visually support your feedback by adding an image. Images can be a visual explanation or sketch of a possible solution.",disclaimer:"Only .png and .jpg files smaller than 5mb allowed",navigation:[{label:"Cancel",action:"cancelImage"},{label:"Save",hasOutline:!0,hasDisabled:!0,action:"saveImage"}]}},p={tabs:[{label:"Feedback",value:"feedback",content:{readInstructions:{title:"About the feedback",body:"The goal of feedback is to improve your work, it's not personal. Feedback are opinions and suggestions of others, they are not facts. You don't have to use the feedback if you don't agree with it."},feedbackComments:{title:"All feedback"}}},{label:"Insights",value:"insights",content:{readInstructions:{title:"About the insights",body:"When users give feedback on your data visualisation they're asked to write down their insights. You can use these to check if your data visualisation is correctly interpreted."},insights:{title:"All insights"}}}]},h={class:"setup"},f={class:"setup__wrapper"},m={key:0,class:"setup__title"},g={class:"setup__required-indicator"},O={key:1,class:"setup__body"},j={key:2},v={class:"setup__buttons"};function k(e,t,n,a,s,c){var r=Object(i["w"])("Menu"),o=Object(i["w"])("ProgressBar");return Object(i["r"])(),Object(i["f"])(i["a"],null,[Object(i["i"])(r,{hasBack:!0,hasLogout:!1}),Object(i["i"])("section",h,[Object(i["i"])("div",f,[Object(i["i"])(o,{total:c.totalSteps,index:n.stepIndex},null,8,["total","index"]),Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in",onBeforeEnter:t[1]||(t[1]=function(e){return c.beforeEnter()}),onAfterEnter:t[2]||(t[2]=function(e){return c.afterEnter()})},{default:Object(i["F"])((function(){return[(Object(i["r"])(),Object(i["f"])("div",{class:["setup__inner",c.animSideClass],key:n.stepIndex},[c.title?(Object(i["r"])(),Object(i["f"])("h1",m,[Object(i["h"])(Object(i["z"])(c.title)+" ",1),Object(i["i"])("span",g,Object(i["z"])(c.requiredLabel),1)])):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",O,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),c.tips?(Object(i["r"])(),Object(i["f"])("ul",j,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.tips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e},Object(i["z"])(e),1)})),128))])):Object(i["g"])("",!0),(Object(i["r"])(),Object(i["f"])(Object(i["x"])(c.component),{content:c.step,class:"setup__input"},null,8,["content"])),Object(i["i"])("div",v,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.navigation,(function(e,t){return Object(i["r"])(),Object(i["f"])("button",{key:t,class:["setup__button",{"setup__button--outline":e.hasOutline,"setup__button--disabled":c.showDisabledState(e.hasDisabled)}],onClick:function(t){return c.handleNavigationButton(e)}},Object(i["z"])(e.label),11,["onClick"])})),128))])],2))]})),_:1})])])],64)}n("caad"),n("b0c0"),n("ac1f"),n("1276");var _=n("fb62"),w={class:"progress-bar"},y={class:"progress-bar__container"},I={class:"progress-bar__steps"};function S(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",w,[Object(i["i"])("div",y,[Object(i["i"])("div",I,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(n.total-1,(function(e){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:"progress-bar__step"})})),128))]),Object(i["i"])("div",{class:"progress-bar__value",style:c.progress},null,4)])])}var x={name:"ProgressBar",props:["total","index"],computed:{progress:function(){var e=this.index/this.total*100;return 100===e?{width:"".concat(e,"%")}:{width:"calc(".concat(e,"% - 2.5px)")}}}};n("ee8f");x.render=S;var M=x,C={class:"setup-upload"},z={key:0,class:"setup-upload__disclaimer-container"},T={class:"setup-upload__disclaimer"},A=Object(i["i"])("p",{class:"setup-upload__dropzone-label"},[Object(i["h"])("Drop a file or "),Object(i["i"])("span",{class:"setup-upload__dropzone-label--underline"},"browse")],-1),F={key:1,class:"setup-upload__preview-container"};function P(e,t,n,a,s,c){var r=Object(i["w"])("RemoveIcon");return Object(i["r"])(),Object(i["f"])("div",C,[c.disclaimer&&!e.visualisationPreview?(Object(i["r"])(),Object(i["f"])("div",z,[Object(i["i"])("p",T,Object(i["z"])(c.disclaimer),1)])):Object(i["g"])("",!0),Object(i["i"])("div",null,[e.visualisationPreview?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("form",{key:0,class:"setup-upload__dropzone",onDrop:t[2]||(t[2]=Object(i["I"])((function(e){return c.handleDrop(e)}),["prevent"])),onDragenter:t[3]||(t[3]=Object(i["I"])((function(){}),["prevent"])),onDragover:t[4]||(t[4]=Object(i["I"])((function(){}),["prevent"])),onClick:t[5]||(t[5]=function(e){return c.openFilePicker()})},[Object(i["i"])("input",{class:"setup-upload__dropzone-input",type:"file",ref:"feedbackImageInput",onChange:t[1]||(t[1]=function(e){return c.selectFile(e)})},null,544),A],32)),e.visualisationPreview?(Object(i["r"])(),Object(i["f"])("div",F,[Object(i["i"])("img",{src:e.visualisationPreview,class:"setup-upload__preview"},null,8,["src"]),Object(i["i"])("div",{class:"setup-upload__preview-remove",onClick:t[6]||(t[6]=function(e){return c.removeSelectedFile()})},[Object(i["i"])(r,{class:"setup-upload__preview-remove-icon"})])])):Object(i["g"])("",!0)])])}n("d3b7");var H={width:"20",height:"20"},D=Object(i["i"])("path",{d:"M5 9v2h10V9H5zm5-9C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},null,-1);function L(e,t){return Object(i["r"])(),Object(i["f"])("svg",H,[D])}const V={};V.render=L;var q=V,R={name:"SetupVisualisation",components:{RemoveIcon:q},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("setup",{visualisation:"visualisation",visualisationPreview:"visualisationPreview"})),{},{disclaimer:function(){return this.content.disclaimer}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("setup",{updateVisualisation:"updateVisualisation",updateVisualisationPreview:"updateVisualisationPreview"})),Object(u["b"])("message",{message:"message"})),{},{openFilePicker:function(){this.$refs.feedbackImageInput.click()},handleDrop:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==e.dataTransfer.files.length){n.next=9;break}return t.updateVisualisation(e.dataTransfer.files[0]),n.t0=t,n.next=5,t.getPreview();case 5:n.t1=n.sent,n.t0.updateVisualisationPreview.call(n.t0,n.t1),n.next=10;break;case 9:t.message({message:"Too many files selected",mode:"error"});case 10:case"end":return n.stop()}}),n)})))()},selectFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.updateVisualisation(e.target.files[0]),n.t0=t,n.next=4,t.getPreview();case 4:n.t1=n.sent,n.t0.updateVisualisationPreview.call(n.t0,n.t1);case 6:case"end":return n.stop()}}),n)})))()},removeSelectedFile:function(){this.updateVisualisation(null),this.updateVisualisationPreview(null)},getPreview:function(){var e=this;return new Promise((function(t,n){var i=new FileReader;i.onload=function(){return t(i.result)},i.onerror=function(){return n()},i.readAsDataURL(e.visualisation)}))}})};n("8425");R.render=P;var E=R,N={class:"setup-long-text"};function U(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",N,[Object(i["G"])(Object(i["i"])("textarea",{rows:"6",placeholder:"Enter an explanation","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.explanation=e}),class:"setup-long-text__input"},null,512),[[i["D"],c.explanation,void 0,{trim:!0}]])])}var B={name:"SetupLongText",computed:{explanation:{get:function(){return this.$store.getters["setup/explanation"]},set:function(e){this.updateExplanation(e)}}},methods:Object(o["a"])({},Object(u["b"])("setup",{updateExplanation:"updateExplanation"}))};n("b4ad");B.render=U;var Q=B,Z={class:"setup-questions"},W={class:"setup-questions__questions"};function $(e,t,n,a,s,c){var r=Object(i["w"])("RemoveIcon");return Object(i["r"])(),Object(i["f"])("section",Z,[Object(i["i"])("div",W,[Object(i["i"])(i["c"],{name:"short-slide-vertical",mode:"in-out"},{default:Object(i["F"])((function(){return[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.showingQuestionInputs,(function(e,n){return Object(i["r"])(),Object(i["f"])("div",{key:n,class:"setup-questions__question question"},[Object(i["i"])("textarea",{rows:"1",placeholder:"e.g. How can the legend be improved?",class:"setup-questions__question-input question-input",onInput:t[1]||(t[1]=function(e){return c.updateInput(e)})},null,32),n!==c.showingQuestionInputs-1?(Object(i["r"])(),Object(i["f"])(r,{key:0,class:"setup-questions__question-remove",onClick:function(e){return c.removeInput(n)}},null,8,["onClick"])):Object(i["g"])("",!0)])})),128))]})),_:1})])])}n("4de4"),n("4160"),n("a630"),n("a434"),n("3ca3"),n("498a"),n("159b");var G={name:"SetupQuestions",components:{RemoveIcon:q},data:function(){return{maxNumOfQuestions:3}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("setup",{questions:"questions"})),{},{numOfQuestions:function(){return this.questions.length>this.maxNumOfQuestions?this.maxNumOfQuestions:this.questions.length},underMaxNumOfQuestions:function(){return this.numOfQuestions<=this.maxNumOfQuestions},showingQuestionInputs:function(){return this.numOfQuestions>=this.maxNumOfQuestions?this.maxNumOfQuestions:this.numOfQuestions+1}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("setup",{updateQuestions:"updateQuestions"})),{},{updateInput:function(e){var t=48;e.target.style.height="auto",e.target.style.height=e.target.scrollHeight>t?"".concat(t,"px"):"".concat(e.target.scrollHeight,"px");var n=this.$el.querySelectorAll(".question-input"),i=Array.from(n,(function(e){return e.value})),a=i.filter((function(e){return""!==e.trim()}));this.updateQuestions(a)},removeInput:function(e){var t=this.questions;t.splice(e,1),this.updateQuestions(t),this.syncTemplateWithState()},syncTemplateWithState:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$el.querySelectorAll(".question-input"),n.forEach((function(t,n){return t.value=e.questions[n]||""}));case 2:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.syncTemplateWithState();var e=48,t=this.$el.querySelectorAll(".question-input");t.forEach((function(t){t.style.height=t.scrollHeight>e?"".concat(e,"px"):"".concat(t.scrollHeight,"px")}))}};n("35b0");G.render=$;var Y=G,J={class:"setup-limits"};function K(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",J,[Object(i["G"])(Object(i["i"])("input",{type:"text",placeholder:"e.g. The text still needs to be translated to English","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.limits=e}),class:"setup-limits__input"},null,512),[[i["D"],c.limits,void 0,{trim:!0}]])])}var X={name:"SetupLimits",computed:{limits:{get:function(){return this.$store.getters["setup/limits"]},set:function(e){this.updateLimits(e)}}},methods:Object(o["a"])({},Object(u["b"])("setup",{updateLimits:"updateLimits"}))};n("9bf9");X.render=K;var ee=X,te=n("dc59"),ne=n("ec26"),ie={name:"Setup",props:["content","stepIndex"],components:{Menu:_["a"],ProgressBar:M,SetupVisualisation:E,SetupLongText:Q,SetupQuestions:Y,SetupLimits:ee},data:function(){return{uploading:!1,animSide:""}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("setup",{visualisation:"visualisation",explanation:"explanation",questions:"questions",limits:"limits"})),{},{totalSteps:function(){return this.content.steps.length},step:function(){return this.content.steps[this.stepIndex-1]},title:function(){return this.step.title},isRequired:function(){return this.step.required},requiredLabel:function(){return this.isRequired?"Required":"Optional"},body:function(){return this.step.body},tips:function(){return this.step.tips},component:function(){return this.step.component},navigation:function(){return this.step.navigation},fileExtension:function(){var e=this.visualisation.name.split(".");return e[e.length-1]},isValidFile:function(){var e=["png","jpg","jpeg"],t=5242880;return e.includes(this.fileExtension)&&this.visualisation.size<=t},animSideClass:function(){return this.animSide?"anim-side--".concat(this.animSide):""}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("project",{updateProgress:"updateProgress",updateSetupProp:"updateSetupProp",updateVisualisation:"updateVisualisation"})),Object(u["b"])("message",{message:"message"})),{},{showDisabledState:function(e){if(!e||!this.isRequired)return!1;switch(this.component){case"SetupVisualisation":return!this.visualisation;case"SetupLongText":return!this.explanation;case"SetupQuestions":return!this.questions.length>0;case"SetupLimits":return!this.limits.length>0;default:console.error("Unhandled button disabled state case");break}},handleNavigationButton:function(e){var t=e.action,n=e.hasDisabled;if("previousStep"===t?this.animSide="right":"nextStep"!==t&&"saveSetup"!==t||(this.animSide="left"),this.showDisabledState(n))"nextStep"===t&&this.message({message:"Input required",mode:"error"});else if(t.hasOwnProperty("target"))this.$router.push({path:"/".concat(t.target)});else if("previousStep"===t||"nextStep"===t||"saveSetup"===t)if("nextStep"===t||"saveSetup"===t)switch(this.component){case"SetupVisualisation":this.uploading||(this.uploading=!0,this.uploadVisualisation(t));break;case"SetupLongText":this.updateSetupProp("explanation"),this.updateProgress({instruction:t});break;case"SetupQuestions":this.updateSetupProp("questions"),this.updateProgress({instruction:t});break;case"SetupLimits":this.updateSetupProp("limits"),this.updateProgress({instruction:t});break;default:console.error("Unhandled case");break}else"previousStep"===t&&this.updateProgress({instruction:"previousStep"})},uploadVisualisation:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.visualisation)if("string"===typeof t.visualisation||t.visualisation instanceof String)t.updateProgress({instruction:e}),t.uploading=!1;else if(t.isValidFile)try{i=Object(ne["a"])(),a=te["f"].child("visualisations/".concat(i)).put(t.visualisation),t.message({message:"Uploading image",duration:1e3}),a.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is ".concat(t,"% done"))}),(function(e){console.error("Error trying to upload file:",e),t.message({message:"Something went wrong",mode:"error"}),t.uploading=!1}),(function(){t.updateProgress({instruction:e}),t.updateVisualisation(i),t.message({message:"Visualisation uploaded",mode:"succes"})}))}catch(s){console.error("Error trying to upload file:",s),t.message({message:"Something went wrong",mode:"error"}),t.uploading=!1}else t.message({message:"Only .png and .jpg files smaller than 5mb allowed",mode:"error"});else t.message({message:"No file selected to upload",mode:"error"});case 1:case"end":return n.stop()}}),n)})))()},beforeEnter:function(){"left"===this.animSide?this.animSide="right":"right"===this.animSide&&(this.animSide="left")},afterEnter:function(){this.animSide=""}})};n("cc84c");ie.render=k;var ae=ie,se={class:"documentation"},ce={class:"documentation__title"},re={class:"documentation__metadata"},oe={class:"documentation__explanation"};function ue(e,t,n,a,s,c){var r=Object(i["w"])("Menu"),o=Object(i["w"])("Visualisation");return Object(i["r"])(),Object(i["f"])("section",se,[Object(i["i"])(r,{hasBack:!0,hasLogout:!1}),e.hideDocumentation?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("div",{key:0,class:["documentation__inner",{"documentation__inner--centered":e.hideVisualisation}]},[Object(i["i"])("h1",ce,Object(i["z"])(c.title),1),Object(i["i"])("p",re,Object(i["z"])(c.owner)+" — group "+Object(i["z"])(c.group),1),Object(i["i"])("p",oe,Object(i["z"])(c.explanation),1)],2)),Object(i["i"])("div",{class:{"documentation__inner documentation__inner--centered":e.hideDocumentation}},[e.hideVisualisation?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(o,{key:0,class:{"no-documentation":e.hideDocumentation},title:c.title,visualisation:c.visualisation,pageMode:n.pageMode},null,8,["class","title","visualisation","pageMode"]))],2)])}var le={key:0,class:"visualisation__title-container"},be={class:"visualisation__control-label"};function de(e,t,n,a,s,c){var r=Object(i["w"])("MarkerButtonIcon"),o=Object(i["w"])("Spinner"),u=Object(i["w"])("MarkerIcon");return Object(i["r"])(),Object(i["f"])("section",{class:["visualisation",{"visualisation--marker-overlay":n.isMarkerOverlay}]},[n.title?(Object(i["r"])(),Object(i["f"])("div",le,[Object(i["i"])("h3",{class:["visualisation__title",{"visualisation__title--hidden":c.hideTitle}]},Object(i["z"])(n.title),3),c.showControl?(Object(i["r"])(),Object(i["f"])("div",{key:0,class:["visualisation__control",{"visualisation__control--hidden":!s.showMarkers}],onClick:t[1]||(t[1]=function(e){return c.toggleControl()})},[Object(i["i"])(r,{class:"visualisation__control-icon"}),Object(i["i"])("p",be,Object(i["z"])(c.controlLabel),1)],2)):Object(i["g"])("",!0)])):Object(i["g"])("",!0),Object(i["i"])("div",{class:["visualisation__image-container",{"visualisation__image-container--error":s.sourceHasErrored}]},[s.source?(Object(i["r"])(),Object(i["f"])("img",{key:0,src:s.source,draggable:"false",class:"visualisation__image",onClick:t[2]||(t[2]=function(e){return c.addMarker(e)})},null,8,["src"])):Object(i["g"])("",!0),s.source||s.sourceHasErrored?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(o,{key:1})),(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.markersPerComment,(function(e){return Object(i["r"])(),Object(i["f"])("div",{class:"visualisation__comment-markers",key:e},[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(e,(function(t){return Object(i["r"])(),Object(i["f"])(u,{key:t,class:["visualisation__marker",{"visualisation__marker--has-hover--overlay":n.isMarkerOverlay,"visualisation__marker--has-hover--sidebar":c.markerIsFeedbackInteractive,"visualisation__marker--hidden-by-control":!s.showMarkers}],style:{left:"".concat(t.x,"%"),top:"".concat(t.y,"%")},color:t.color,"data-marker-id":e[0].commentId,onClick:function(e){return c.handleMarkerClick(t)}},null,8,["style","class","color","data-marker-id","onClick"])})),128))])})),128))],2)],2)}n("d81d"),n("45fc");var pe={class:"spinner__container"},he=Object(i["i"])("div",{class:"spinner__spinner"},null,-1),fe=Object(i["i"])("div",{class:"spinner__spinner"},null,-1),me=Object(i["i"])("div",{class:"spinner__spinner"},null,-1);function ge(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("div",pe,[he,fe,me])}var Oe={name:"Spinner"};n("8182");Oe.render=ge;var je=Oe,ve=Object(i["i"])("path",{class:"visualisation__marker-outline",d:"M27.6 21.38c0-3.267-2.385-5.58-5.4-5.58-3.015 0-5.4 2.313-5.4 5.58 0 2.106 1.755 4.896 5.4 8.226 3.645-3.33 5.4-6.12 5.4-8.226zM22.2 14c3.78 0 7.2 2.898 7.2 7.38 0 2.988-2.403 6.525-7.2 10.62-4.797-4.095-7.2-7.632-7.2-10.62 0-4.482 3.42-7.38 7.2-7.38z"},null,-1),ke=Object(i["i"])("path",{class:"visualisation__marker-dot",d:"M22.2 23a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"},null,-1);function _e(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("svg",{width:"45",height:"45",onClick:t[1]||(t[1]=function(e){return c.handleClick()})},[Object(i["i"])("path",{class:"visualisation__marker-glow",style:{fill:s.markerColor},d:"M22.5 45a22.5 22.5 0 100-45 22.5 22.5 0 000 45z"},null,4),Object(i["i"])("path",{class:"visualisation__marker-background",style:{fill:s.markerColor},d:"M19 16l-2 1.5-1 5 3.5 6.5 2.5 1.5 2-2 2.5-2 1.5-3 .5-2.5v-1.5l-2-2.5-2-2h-2L19 16z"},null,4),ve,ke])}var we={name:"OverlayMarkerIcon",props:["color"],data:function(){return{markerColor:null}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("user",{getColorHex:"getColorHex"})),{},{handleClick:function(){this.$emit("markerClick")}}),created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.color){t.next=5;break}return t.next=3,e.getColorHex(e.color);case 3:n=t.sent,e.markerColor=n;case 5:case"end":return t.stop()}}),t)})))()}};we.render=_e;var ye=we,Ie={width:"17",height:"20"},Se=Object(i["i"])("path",{class:"feedback-input__action-marker-icon-background",d:"M3 3L2 4.5 1 9l1.5 3 3 4.5 2.5 2 1.5-1 3-3.5 2-3 .5-2.5-.5-3-1-2-2-1.5L9 1H6.5l-2 1L3 3z"},null,-1),xe=Object(i["i"])("path",{class:"feedback-input__action-marker-icon-outline",d:"M14 8.2C14 4.57 11.35 2 8 2S2 4.57 2 8.2c0 2.34 1.95 5.44 6 9.14 4.05-3.7 6-6.8 6-9.14zM8 0c4.2 0 8 3.22 8 8.2 0 3.32-2.67 7.25-8 11.8-5.33-4.55-8-8.48-8-11.8C0 3.22 3.8 0 8 0z"},null,-1),Me=Object(i["i"])("path",{class:"feedback-input__action-marker-icon-dot",d:"M8 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"},null,-1);function Ce(e,t){return Object(i["r"])(),Object(i["f"])("svg",Ie,[Se,xe,Me])}const ze={};ze.render=Ce;var Te=ze,Ae={name:"Visualisation",components:{Spinner:je,MarkerIcon:ye,MarkerButtonIcon:Te},props:["title","visualisation","isMarkerOverlay","pageMode"],data:function(){return{source:null,sourceHasErrored:!1,showMarkers:!0}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{markers:"markers",sessionMarkers:"sessionMarkers",activeTab:"activeTab",hideDocumentation:"hideDocumentation"})),Object(u["c"])("feedback",{comments:"comments"})),Object(u["c"])("user",{color:"color"})),{},{hideTitle:function(){return!this.hideDocumentation},showControl:function(){var e=this.comments.some((function(e){return e.markers.length>0}));return"view"===this.activeTab&&e||"feedback"===this.activeTab&&e},controlLabel:function(){return this.showMarkers?"Shown":"Hidden"},markersPerComment:function(){var e,t=this;if("view"===this.pageMode&&"insights"===this.activeTab)return null;if("give"===this.pageMode&&"give"===this.activeTab||this.isMarkerOverlay){var n=this.isMarkerOverlay?this.sessionMarkers:this.markers;e=[{markers:n}]}else{if(!("give"===this.pageMode&&"view"===this.activeTab||"view"===this.pageMode&&"feedback"===this.activeTab))return null;e=this.comments}return e.map((function(e){var n=t.cleanSource(e.markers);return n.forEach((function(n){var i;n.color=(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.color)||t.color,n.commentId=e.id})),n}))},markerIsFeedbackInteractive:function(){return!("give"===this.pageMode&&"give"===this.activeTab||this.isMarkerOverlay)}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{removeSessionMarker:"removeSessionMarker",addSessionMarker:"addSessionMarker"})),Object(u["b"])("message",{message:"message"})),{},{addMarker:function(e){if(this.isMarkerOverlay){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left-22.5,i=e.clientY-t.top-22.5,a=n/t.width*100,s=i/t.height*100,c={id:Date.now(),x:a,y:s};this.addSessionMarker(c)}},toggleControl:function(){this.showMarkers=!this.showMarkers},handleMarkerClick:function(e){if(this.isMarkerOverlay)this.removeSessionMarker(e.id);else if("give"===this.pageMode&&"view"===this.activeTab||"view"===this.pageMode&&"feedback"===this.activeTab){var t=document.querySelector('[data-comment-id="'.concat(e.commentId,'"]'));if(t){t.scrollIntoView({behavior:"smooth",block:"end"});var n=document.querySelectorAll(".visualisation__marker--is-highlighted");n.forEach((function(e){return e.classList.remove("visualisation__marker--is-highlighted")}));var i=document.querySelectorAll(".feedback-comments__comment--highlighted");i.forEach((function(e){return e.classList.remove("feedback-comments__comment--highlighted")})),t.classList.add("feedback-comments__comment--highlighted"),setTimeout((function(){t.classList.remove("feedback-comments__comment--highlighted")}),2e3)}}},cleanSource:function(e){return JSON.parse(JSON.stringify(e))}}),watch:{activeTab:function(){this.showMarkers=!0}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te["f"].child("visualisations/".concat(e.visualisation)).getDownloadURL();case 3:n=t.sent,e.source=n,t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("Error when trying to get downloadableURL for image:",t.t0),e.message({message:"Could not load visualisation",mode:"error",duration:5e3}),e.sourceHasErrored=!0;case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()}};n("430b");Ae.render=de;var Fe=Ae,Pe={name:"Documentation",components:{Menu:_["a"],Visualisation:Fe},props:["content","pageMode"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{hideDocumentation:"hideDocumentation",hideVisualisation:"hideVisualisation"})),{},{title:function(){return this.content.project.data.title},owner:function(){return this.content.project.data.owner.name},group:function(){return this.content.project.data.group},explanation:function(){return this.content.project.data.explanation},visualisation:function(){return this.content.project.data.visualisation}})};n("857c");Pe.render=ue;var He=Pe,De={class:"give-sidebar"},Le={key:0,class:"give-sidebar__inner-wrappers anim-side--left"},Ve={key:1,class:"give-sidebar__inner-wrappers anim-side--right"};function qe(e,t,n,a,s,c){var r=Object(i["w"])("ProgressBar"),o=Object(i["w"])("Tabs"),u=Object(i["w"])("InputInstructions"),l=Object(i["w"])("ConfirmInstructions"),b=Object(i["w"])("ReadInstructions"),d=Object(i["w"])("FeedbackHelper"),p=Object(i["w"])("FeedbackComments"),h=Object(i["w"])("NavigationButtons"),f=Object(i["w"])("FeedbackInput"),m=Object(i["w"])("PopUp");return Object(i["r"])(),Object(i["f"])(i["a"],null,[Object(i["i"])("section",De,[Object(i["i"])(r,{total:c.totalSteps,index:n.stepIndex},null,8,["total","index"]),Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["F"])((function(){return[c.tabs?(Object(i["r"])(),Object(i["f"])(o,{key:0,tabs:c.tabs,class:"anim-side--right"},null,8,["tabs"])):Object(i["g"])("",!0)]})),_:1}),Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in",onBeforeEnter:t[1]||(t[1]=function(e){return c.beforeEnter()}),onAfterEnter:t[2]||(t[2]=function(e){return c.afterEnter()})},{default:Object(i["F"])((function(){return[(Object(i["r"])(),Object(i["f"])("div",{class:["give-sidebar__transition-inner",[{"give-sidebar__transition-inner--centered":c.isCentered},c.animSideClass]],key:n.stepIndex},[Object(i["i"])("div",{class:["give-sidebar__inner",{"give-sidebar__inner--centered":c.isCentered}]},[Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["F"])((function(){return["give"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",Le,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:["give-sidebar__inner-wrapper",{"give-sidebar__inner-wrapper--grow-bottom":"feedbackInput"===t}]},["inputInstructions"===t?(Object(i["r"])(),Object(i["f"])(u,{key:0,content:e,hideDocumentation:c.hideDocumentation,class:"give-sidebar__section give-sidebar__section--no-padding-vertical"},null,8,["content","hideDocumentation"])):Object(i["g"])("",!0),"confirmInstructions"===t?(Object(i["r"])(),Object(i["f"])(l,{key:1,content:e,hideVisualisation:c.hideVisualisation,class:"give-sidebar__section"},null,8,["content","hideVisualisation"])):Object(i["g"])("",!0),"readInstructions"===t?(Object(i["r"])(),Object(i["f"])(b,{key:2,content:e,legendData:c.legendData,class:"give-sidebar__section"},null,8,["content","legendData"])):Object(i["g"])("",!0),"feedbackHelper"===t?(Object(i["r"])(),Object(i["f"])(d,{key:3,content:e,class:"give-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0)],2)})),128))])):"view"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",Ve,["view"===e.activeTab?(Object(i["r"])(!0),Object(i["f"])(i["a"],{key:0},Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:"give-sidebar__inner-wrapper"},["readInstructions"===t?(Object(i["r"])(),Object(i["f"])(b,{key:0,content:e,legendData:c.legendData,class:"give-sidebar__section"},null,8,["content","legendData"])):Object(i["g"])("",!0),"feedbackComments"===t?(Object(i["r"])(),Object(i["f"])(p,{key:1,content:e,class:"give-sidebar__section give-sidebar__section--no-padding-horizontal"},null,8,["content"])):Object(i["g"])("",!0)])})),128)):Object(i["g"])("",!0)])):Object(i["g"])("",!0)]})),_:1}),c.navigation&&c.isCentered&&"give"===e.activeTab?(Object(i["r"])(),Object(i["f"])(h,{key:0,class:"give-sidebar__navigation",buttons:c.navigation,bigMarginTop:!c.hasFeedbackHelper,onHandleNav:c.setAnimSide},null,8,["buttons","bigMarginTop","onHandleNav"])):Object(i["g"])("",!0)],2),Object(i["i"])(i["c"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["F"])((function(){return[c.hasFeedbackInput?(Object(i["r"])(),Object(i["f"])(f,{key:0,class:"give-sidebar__section give-sidebar__section--no-padding-vertical"})):Object(i["g"])("",!0),c.navigation&&!c.isCentered&&"give"===e.activeTab?(Object(i["r"])(),Object(i["f"])(h,{key:1,buttons:c.navigation,bigMarginTop:!c.hasFeedbackHelper,onHandleNav:c.setAnimSide},null,8,["buttons","bigMarginTop","onHandleNav"])):Object(i["g"])("",!0)]})),_:1})],2))]})),_:1})]),c.popUp&&e.showPopUp?(Object(i["r"])(),Object(i["f"])(m,{key:0,content:c.popUp},null,8,["content"])):Object(i["g"])("",!0)],64)}n("b64b"),n("2532");var Re={class:"tabs"};function Ee(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",Re,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(n.tabs,(function(t,n){return Object(i["r"])(),Object(i["f"])("div",{key:n,class:["tabs__tab",{"tabs__tab--active":t.value===e.activeTab}],onClick:function(e){return c.handleClick(t.value,n)}},Object(i["z"])(t.label),11,["onClick"])})),128)),Object(i["i"])("div",{class:["tabs__indicator",c.tabIndicatorPosition]},null,2)])}var Ne={name:"Tabs",props:["tabs"],data:function(){return{activeTabIndex:0}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{activeTab:"activeTab",activeTabIndexFromStore:"activeTabIndex"})),{},{tabIndicatorPosition:function(){var e=0===this.activeTabIndex?"left":"right";return"tabs__indicator--".concat(e)}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTab:"updateActiveTab",updateActiveTabIndex:"updateActiveTabIndex"})),{},{handleClick:function(e,t){this.activeTabIndex=t,this.activeTab!==e&&this.updateActiveTab(this.tabs[t].value)}}),watch:{activeTabIndexFromStore:function(e){0!==e&&1!==e||(this.activeTabIndex=this.activeTabIndexFromStore,this.updateActiveTabIndex(null))}}};n("9981");Ne.render=Ee;var Ue=Ne,Be={class:"input-instructions"},Qe={key:0,class:"input-instructions__header-title"},Ze={key:1,class:"input-instructions__body"},We={key:2,class:"input-instructions__disclaimer-container"},$e={class:"input-instructions__disclaimer"},Ge={key:3,class:"input-instructions__tip-list"};function Ye(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",Be,[c.title?(Object(i["r"])(),Object(i["f"])("h1",Qe,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",Ze,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),c.disclaimer?(Object(i["r"])(),Object(i["f"])("div",We,[Object(i["i"])("p",$e,Object(i["z"])(c.disclaimer),1)])):Object(i["g"])("",!0),c.tips?(Object(i["r"])(),Object(i["f"])("ul",Ge,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.tips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:"input-instructions__tip"},Object(i["z"])(e),1)})),128))])):Object(i["g"])("",!0),Object(i["G"])(Object(i["i"])("textarea",{rows:"6",placeholder:"Note your insights","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.insightInput=e}),class:"input-instructions__input"},null,512),[[i["D"],c.insightInput,void 0,{trim:!0}]])])}var Je={name:"InputInstructions",props:["content","hideDocumentation"],computed:{title:function(){return this.content.title},body:function(){return this.content.body},disclaimer:function(){return this.content.disclaimer},tips:function(){return this.content.tips||null},insightInput:{get:function(){return this.$store.getters["sidebar/insightInput"]},set:function(e){this.updateInsightInput(e)}}},methods:Object(o["a"])({},Object(u["b"])("sidebar",{updateInsightInput:"updateInsightInput",updateHideDocumentation:"updateHideDocumentation"})),created:function(){this.hideDocumentation&&this.updateHideDocumentation(!0)}};n("9b6b");Je.render=Ye;var Ke=Je,Xe={key:0,class:"confirm-instructions"},et={key:0};function tt(e,t,n,a,s,c){return c.title?(Object(i["r"])(),Object(i["f"])("section",Xe,[Object(i["i"])("h1",null,Object(i["z"])(c.title),1),c.body?(Object(i["r"])(),Object(i["f"])("p",et,Object(i["z"])(c.body),1)):Object(i["g"])("",!0)])):Object(i["g"])("",!0)}var nt={name:"ConfirmInstructions",props:["content","hideVisualisation"],computed:{title:function(){return this.content.title},body:function(){return this.content.body}},methods:Object(o["a"])({},Object(u["b"])("sidebar",{updateHideVisualisation:"updateHideVisualisation"})),created:function(){this.hideVisualisation&&this.updateHideVisualisation(!0)}};nt.render=tt;var it=nt,at={key:0},st={key:2},ct={key:0,class:"read-instructions__points"},rt={class:"read-instructions__points-icon-container"},ot={key:0,class:"read-instructions__points-number"},ut={key:1,class:"read-instructions__points-label"},lt={class:"read-instructions__points-icon-container"};function bt(e,t,n,a,s,c){var r=Object(i["w"])("QuestionIcon"),o=Object(i["w"])("LimitIcon");return c.title?(Object(i["r"])(),Object(i["f"])("section",{key:0,class:["read-instructions",{"read-instructions--has-legend":c.showLegend&&c.hasLimits}]},[c.title?(Object(i["r"])(),Object(i["f"])("h1",at,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",{key:1,class:["read-instructions__body",{"read-instructions__body--no-margin-bottom":!c.legend}]},Object(i["z"])(c.body),3)):Object(i["g"])("",!0),c.showLegend?(Object(i["r"])(),Object(i["f"])("div",st,[c.legend?(Object(i["r"])(),Object(i["f"])("ul",ct,[c.hasQuestions?(Object(i["r"])(!0),Object(i["f"])(i["a"],{key:0},Object(i["v"])(c.questions,(function(e,t){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:"read-instructions__points-label read-instructions__points-label--question"},[Object(i["i"])("span",rt,[Object(i["i"])(r,{class:"read-instructions__points-icon read-instructions__points-icon--question"})]),c.questions.length>1?(Object(i["r"])(),Object(i["f"])("span",ot,Object(i["z"])(t+1)+". ",1)):Object(i["g"])("",!0),Object(i["h"])(" "+Object(i["z"])(e+c.punctuate(e)),1)])})),128)):Object(i["g"])("",!0),c.showLimitsInLegend?(Object(i["r"])(),Object(i["f"])("li",ut,[Object(i["i"])("span",lt,[Object(i["i"])(o,{class:"read-instructions__points-icon read-instructions__points-icon--limit"})]),Object(i["h"])(" "+Object(i["z"])(c.limits),1)])):Object(i["g"])("",!0)])):Object(i["g"])("",!0)])):Object(i["g"])("",!0)],2)):Object(i["g"])("",!0)}n("466d");var dt={width:"10",height:"10"},pt=Object(i["i"])("path",{d:"M10 1.007L8.993 0 5 3.993 1.007 0 0 1.007 3.993 5 0 8.993 1.007 10 5 6.007 8.993 10 10 8.993 6.007 5 10 1.007z"},null,-1);function ht(e,t){return Object(i["r"])(),Object(i["f"])("svg",dt,[pt])}const ft={};ft.render=ht;var mt=ft,gt={width:"8",height:"16"},Ot=Object(i["i"])("path",{d:"M3 12h2v-2H3v2zM4 0C1.79 0 0 1.79 0 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},null,-1);function jt(e,t){return Object(i["r"])(),Object(i["f"])("svg",gt,[Ot])}const vt={};vt.render=jt;var kt=vt,_t={name:"ReadInstructions",components:{LimitIcon:mt,QuestionIcon:kt},props:["content","legendData"],computed:{title:function(){return this.content.title},body:function(){return this.content.body},legend:function(){return this.content.legend},showLegend:function(){return this.hasLimits?this.showLimitsInLegend:!!this.hasQuestions},limits:function(){return this.legendData.limits},questions:function(){return this.legendData.questions},hasQuestions:function(){var e,t;return null===(e=this.content)||void 0===e||null===(t=e.legend)||void 0===t?void 0:t.some((function(e){return"question"===e.type}))},hasLimits:function(){var e,t;return null===(e=this.content)||void 0===e||null===(t=e.legend)||void 0===t?void 0:t.some((function(e){return"limit"===e.type}))},showLimitsInLegend:function(){return this.hasLimits&&this.limits.length>0}},methods:{punctuate:function(e){return e[e.length-1].match(/^[.,!?]/)?"":"?"}}};n("0f3e");_t.render=bt;var wt=_t,yt={key:0,class:"feedback-helper"},It={key:0,class:"anim-side--left"},St={class:"feedback-helper__header"},xt={key:0,class:"feedback-helper__title"},Mt={class:"feedback-helper__toggle-container"},Ct={key:0},zt={key:1,class:"anim-side--right"},Tt={class:"feedback-helper__header"},At={key:0,class:"feedback-helper__title"},Ft={class:"feedback-helper__toggle-container"},Pt={key:0},Ht={class:"feedback-helper__tips-list"},Dt={class:"feedback-helper__tips-tip-icon-container"},Lt={class:"feedback-helper__tips-tip-detail-container"},Vt={class:"feedback-helper__tips-tip-detail"};function qt(e,t,n,a,s,c){var r=Object(i["w"])("ToggleIcon");return c.hideSection?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("section",yt,[Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["F"])((function(){return[c.zeroTips&&e.showFeedbackHelperZero?(Object(i["r"])(),Object(i["f"])("div",It,[Object(i["i"])("div",St,[c.title?(Object(i["r"])(),Object(i["f"])("h2",xt,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),Object(i["i"])("div",Mt,[Object(i["i"])(r,{class:["feedback-helper__toggle feedback-helper__toggle--zero",{"feedback-helper__toggle--disabled":e.showFeedbackHelperZero}]},null,8,["class"]),Object(i["i"])(r,{class:["feedback-helper__toggle feedback-helper__toggle--interactive",{"feedback-helper__toggle--disabled":!e.showFeedbackHelperZero}],onClick:t[1]||(t[1]=function(e){return c.switchHelper()})},null,8,["class"])])]),c.body?(Object(i["r"])(),Object(i["f"])("p",Ct,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),Object(i["i"])("ul",null,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.zeroTips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e},Object(i["z"])(e),1)})),128))])])):c.interactiveTips&&!e.showFeedbackHelperZero?(Object(i["r"])(),Object(i["f"])("div",zt,[Object(i["i"])("div",Tt,[c.title?(Object(i["r"])(),Object(i["f"])("h2",At,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),Object(i["i"])("div",Ft,[Object(i["i"])(r,{class:["feedback-helper__toggle feedback-helper__toggle--zero",{"feedback-helper__toggle--disabled":e.showFeedbackHelperZero}],onClick:t[2]||(t[2]=function(e){return c.switchHelper()})},null,8,["class"]),Object(i["i"])(r,{class:["feedback-helper__toggle feedback-helper__toggle--interactive",{"feedback-helper__toggle--disabled":!e.showFeedbackHelperZero}]},null,8,["class"])])]),c.body?(Object(i["r"])(),Object(i["f"])("p",Pt,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),Object(i["i"])("ul",Ht,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.interactiveTips,(function(t,n){return Object(i["r"])(),Object(i["f"])("li",{key:t,class:["feedback-helper__tips-tip",{"feedback-helper__tips-tip--expanded":e.activeTipIndex===n}],onClick:function(e){return c.handleClick(n)}},[Object(i["i"])("span",Dt,[Object(i["i"])(r,{class:"feedback-helper__tips-tip-icon"})]),Object(i["i"])("span",Lt,[Object(i["h"])(Object(i["z"])(t.heading)+" ",1),Object(i["i"])("span",Vt,Object(i["z"])(t.detail),1)])],10,["onClick"])})),128))])])):Object(i["g"])("",!0)]})),_:1})]))}var Rt=Object(i["i"])("svg",{width:"12",height:"8"},[Object(i["i"])("path",{d:"M1.41 0L6 4.58 10.59 0 12 1.41l-6 6-6-6L1.41 0z"})],-1);function Et(e,t){return Object(i["r"])(),Object(i["f"])("div",null,[Rt])}const Nt={};Nt.render=Et;var Ut=Nt,Bt={name:"feedbackHelper",components:{ToggleIcon:Ut},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showFeedbackHelperZero:"showFeedbackHelperZero",activeTipIndex:"activeTipIndex"})),{},{currentSection:function(){return this.showFeedbackHelperZero?"zero":"interactive"},hideSection:function(){return this.content.sections[this.currentSection].hide},title:function(){return this.content.sections[this.currentSection].title},body:function(){return this.content.sections[this.currentSection].body},zeroTips:function(){return this.content.sections.zero.tips},interactiveTips:function(){return this.content.sections.interactive.tips}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTipIndex:"updateActiveTipIndex",updateShowFeedbackHelperZero:"updateShowFeedbackHelperZero"})),{},{handleClick:function(e){this.updateActiveTipIndex(this.activeTipIndex===e?null:e)},switchHelper:function(){this.updateShowFeedbackHelperZero()}})};n("3e2d");Bt.render=qt;var Qt=Bt,Zt={class:"feedback-input",id:"input"},Wt={key:0,class:"feedback-input__message-container"},$t={class:"feedback-input__actions"},Gt=Object(i["h"])(" Comment ");function Yt(e,t,n,a,s,c){var r=Object(i["w"])("MarkerIcon"),o=Object(i["w"])("ImageIconZero"),u=Object(i["w"])("ImageIconActive"),l=Object(i["w"])("SendIcon");return Object(i["r"])(),Object(i["f"])("section",Zt,[Object(i["i"])(i["b"],{name:"short-slide-vertical",mode:"out-in"},{default:Object(i["F"])((function(){return[c.hasMessage?(Object(i["r"])(),Object(i["f"])("div",Wt,[Object(i["i"])("p",{class:[{"feedback-input__message--confirmation":c.hasMessage&&"succes"===c.messageMode,"feedback-input__message--error":c.hasMessage&&"error"===c.messageMode},"feedback-input__message"],onClick:t[1]||(t[1]=function(e){return c.handleMessageClick()})},Object(i["z"])(e.message.text),3)])):Object(i["g"])("",!0)]})),_:1}),Object(i["i"])("div",{class:["feedback-input__container",{"feedback-input__container--confirmation":c.hasMessage&&"succes"===c.messageMode,"feedback-input__container--error":c.hasMessage&&"error"===c.messageMode}]},[Object(i["G"])(Object(i["i"])("textarea",{rows:"6",placeholder:"Don't know what to do? Read the tips above.","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.textInput=e}),class:"feedback-input__input"},null,512),[[i["D"],c.textInput,void 0,{trim:!0}]]),Object(i["i"])("div",$t,[Object(i["i"])("button",{class:["feedback-input__action feedback-input__action-marker",{"feedback-input__action--active":e.numberOfMarkers>0}],onClick:t[3]||(t[3]=function(e){return c.addMarkers()})},[Object(i["i"])(r,{class:"feedback-input__action-marker-icon"}),Object(i["h"])(" "+Object(i["z"])(c.markerLabel),1)],2),Object(i["i"])("button",{class:["feedback-input__action feedback-input__action-image",{"feedback-input__action--active":e.feedbackImage}],onClick:t[4]||(t[4]=function(e){return c.addImage()})},[e.feedbackImage?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(o,{key:0,class:"feedback-input__action-image-icon"})),e.feedbackImage?(Object(i["r"])(),Object(i["f"])(u,{key:1,class:"feedback-input__action-image-icon"})):Object(i["g"])("",!0),Object(i["h"])(" "+Object(i["z"])(c.imageLabel),1)],2),Object(i["i"])("button",{class:["feedback-input__action feedback-input__action-comment",{"feedback-input__action-comment--disabled":!c.textInput}],onClick:t[5]||(t[5]=function(e){return c.comment()})},[Object(i["i"])(l,{class:"feedback-input__action-comment-icon"}),Gt],2)])],2)])}var Jt={width:"20",height:"18"},Kt=Object(i["i"])("path",{d:"M16 2v14H2V2h14zm0-2H2C.9 0 0 .9 0 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L6 10.14 3 14h12l-3.86-5.14z"},null,-1);function Xt(e,t){return Object(i["r"])(),Object(i["f"])("svg",Jt,[Kt])}const en={};en.render=Xt;var tn=en,nn={width:"18",height:"18"},an=Object(i["i"])("path",{d:"M16 10.004V16H2V2h3.688a6.971 6.971 0 01.965-2H2C.9 0 0 .9 0 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V2a2.01 2.01 0 00-.005-.137v6.342A7.037 7.037 0 0116 10.004z"},null,-1),sn=Object(i["i"])("path",{d:"M17.995 4.052H16.39v-.048a4.018 4.018 0 00-1.168-2.832A4.005 4.005 0 0010.189.66l.88.88c1.064-.568 2.408-.424 3.304.472.56.56.824 1.296.808 2.032h-1.712l2.264 2.264 2.262-2.254v-.002zm-4.27 2.408l.88.88c-1.552 1.024-3.672.856-5.032-.504a3.94 3.94 0 01-1.16-2.88H6.797L9.06 1.692l2.256 2.264h-1.72v.048c0 .72.272 1.432.824 1.984.896.896 2.24 1.04 3.304.472z"},null,-1),cn=Object(i["i"])("path",{d:"M11.14 9l-3 3.87L6 10.28l-3 3.86h12L11.14 9z"},null,-1);function rn(e,t){return Object(i["r"])(),Object(i["f"])("svg",nn,[an,sn,cn])}const on={};on.render=rn;var un=on,ln={height:"24",width:"24",fill:"currentcolor"},bn=Object(i["i"])("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),dn=Object(i["i"])("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"},null,-1);function pn(e,t){return Object(i["r"])(),Object(i["f"])("svg",ln,[bn,dn])}const hn={};hn.render=pn;var fn=hn,mn={name:"FeedbackInput",components:{MarkerIcon:Te,ImageIconZero:tn,ImageIconActive:un,SendIcon:fn},data:function(){return{labels:{markersZero:"Add markers",imageZero:"Add image",imageActive:"Change image"}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{numberOfMarkers:"numberOfMarkers",feedbackImage:"feedbackImage"})),Object(u["c"])("project",{projectId:"projectId"})),Object(u["c"])("message",{message:"message"})),{},{textInput:{get:function(){return this.$store.getters["sidebar/textInput"]},set:function(e){this.updateTextInput(e)}},markerLabel:function(){var e;return e=this.numberOfMarkers>0?"".concat(this.numberOfMarkers," marker"):this.labels.markersZero,e+=this.numberOfMarkers>1?"s":"",e},imageLabel:function(){return this.feedbackImage?this.labels.imageActive:this.labels.imageZero},hasMessage:function(){var e;return this.message&&(null===(e=this.message)||void 0===e?void 0:e.hidePopUp)},messageMode:function(){return this.message.mode}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateTextInput:"updateTextInput",updateShowMarkerOverlay:"updateShowMarkerOverlay",startNewMarkerSession:"startNewMarkerSession",resetAllMarkers:"resetAllMarkers",updateShowImageSidebar:"updateShowImageSidebar",updateFeedbackImage:"updateFeedbackImage",resetImageState:"resetImageState",updateSelectedImagePreview:"updateSelectedImagePreview",updateActiveTab:"updateActiveTab",updateActiveTabIndex:"updateActiveTabIndex"})),Object(u["b"])("feedback",{postComment:"postComment"})),Object(u["b"])("message",{setMessage:"message"})),{},{addMarkers:function(){this.updateShowMarkerOverlay(!0),this.startNewMarkerSession()},addImage:function(){this.updateShowImageSidebar(!0),this.resetImageState()},comment:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.textInput){t.next=11;break}return t.next=3,e.postComment({projectId:e.projectId,comment:e.textInput});case 3:e.resetAllMarkers(),e.updateFeedbackImage(null),e.resetImageState(),e.updateSelectedImagePreview(null),e.textInput="",e.setMessage({message:'Feedback saved, find it back in the "view feedback" tab.',mode:"succes",hidePopUp:!0}),t.next=12;break;case 11:e.setMessage({message:"Don't forget to enter feedback",mode:"error",hidePopUp:!0});case 12:case"end":return t.stop()}}),t)})))()},handleMessageClick:function(){"succes"===this.messageMode&&(this.updateActiveTab("view"),this.updateActiveTabIndex(1))}})};n("4b24");mn.render=Yt;var gn=mn;function On(e,t,n,a,s,c){return Object(i["r"])(),Object(i["f"])("section",{class:["navigation-buttons",{"navigation-buttons--multiple":c.hasMultiple,"navigation-buttons--big-margin-top":n.bigMarginTop}]},[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(n.buttons,(function(e,t){return Object(i["r"])(),Object(i["f"])("button",{key:t,class:["navigation-buttons__button",{"navigation-buttons__button--outline":e.hasOutline,"navigation-buttons__button--disabled":c.isDisabled(e.hasDisabled)}],onClick:function(t){return c.handleClick(e.action)}},Object(i["z"])(e.label),11,["onClick"])})),128))],2)}var jn={name:"NavigationButtons",props:["buttons","bigMarginTop"],computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{insightInput:"insightInput"})),Object(u["c"])("project",{projectId:"projectId"})),{},{hasMultiple:function(){return this.buttons.length>1}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateHideDocumentation:"updateHideDocumentation",updateHideVisualisation:"updateHideVisualisation",resetAllInputs:"resetAllInputs"})),Object(u["b"])("feedback",{postInsight:"postInsight"})),Object(u["b"])("project",{updateProgress:"updateProgress"})),Object(u["b"])("message",{message:"message"})),{},{isDisabled:function(e){return e&&""===this.insightInput},handleClick:function(e){this.$emit("handleNav",e),this.resetAllInputs(),e.hasOwnProperty("target")?(this.$router.push({path:"/".concat(e.target)}),"dashboard"===e.target.toLowerCase()&&this.message({message:"Feedback saved",mode:"succes"})):"previousStep"===e||"nextStep"===e?this.updateProgress({instruction:e}):"saveInsights"===e&&(this.insightInput?(this.updateHideDocumentation(!1),this.updateProgress({instruction:"nextStep",hideVisualisation:!0}),this.postInsight({insight:this.insightInput,projectId:this.projectId}),this.message({message:"Insight saved",mode:"succes"})):this.message({message:"Enter at least one insight",mode:"error"}))}})};n("bab8");jn.render=On;var vn=jn,kn={class:"feedback-comments"},_n={key:0,class:"feedback-comments__title"},wn={key:1,class:"feedback-comments__body"},yn={key:2,class:"feedback-comments__filter-container"},In={class:"feedback-comments__filter-label"},Sn=Object(i["h"])("showing "),xn={class:"feedback-comments__filter-label-highlight"},Mn=Object(i["h"])(" comments."),Cn={class:"feedback-comments__filter-option"},zn=Object(i["i"])("label",{for:"filter-option--default",class:"feedback-comments__filter-option-label"},"All",-1),Tn={class:"feedback-comments__list"},An={class:"feedback-comments__comment-meta"},Fn={class:"feedback-comments__comment-credentials"},Pn={class:"feedback-comments__comment-name"},Hn={class:"feedback-comments__comment-role"},Dn={key:2,class:"feedback-comments__agrees-container"},Ln={class:"feedback-comments__agrees-label"};function Vn(e,t,n,a,s,c){var r=Object(i["w"])("FilterIcon"),o=Object(i["w"])("Avatar"),u=Object(i["w"])("MarkerIcon"),l=Object(i["w"])("FeedbackImage"),b=Object(i["w"])("AgreeIconZero"),d=Object(i["w"])("AgreeIconActive");return Object(i["r"])(),Object(i["f"])("section",kn,[c.title&&c.hasComments?(Object(i["r"])(),Object(i["f"])("h1",_n,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body&&c.hasComments?(Object(i["r"])(),Object(i["f"])("p",wn,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),c.hasComments?(Object(i["r"])(),Object(i["f"])("div",yn,[Object(i["i"])("div",{class:"feedback-comments__filter-header",onClick:t[1]||(t[1]=function(){return c.toggleFilterVisibility&&c.toggleFilterVisibility.apply(c,arguments)})},[Object(i["i"])(r,{class:"feedback-comments__filter-icon"}),Object(i["i"])("p",In,[Sn,Object(i["i"])("span",xn,'"'+Object(i["z"])(s.activeFilter)+'"',1),Mn])]),Object(i["i"])("form",{class:["feedback-comments__filter-options",{"feedback-comments__filter-options--collapsed":!s.showFilterOptions}]},[Object(i["i"])("fieldset",Cn,[Object(i["G"])(Object(i["i"])("input",{type:"radio",name:"filter-option",checked:"",id:"filter-option--default",value:c.defaultFilterOption,class:"feedback-comments__filter-option-input","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.activeFilter=e})},null,8,["value"]),[[i["B"],s.activeFilter]]),zn]),(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.feedbackSteps,(function(e,n){return Object(i["r"])(),Object(i["f"])("fieldset",{key:e,class:"feedback-comments__filter-option"},[Object(i["G"])(Object(i["i"])("input",{type:"radio",name:"filter-option",id:"filter-option--".concat(n),value:e.content.readInstructions.title,class:"feedback-comments__filter-option-input","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.activeFilter=e})},null,8,["id","value"]),[[i["B"],s.activeFilter]]),Object(i["i"])("label",{for:"filter-option--".concat(n),class:"feedback-comments__filter-option-label"},Object(i["z"])(e.content.readInstructions.title),9,["for"])])})),128))],2)])):Object(i["g"])("",!0),Object(i["i"])("ul",Tn,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.comments,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:"feedback-comments__comment","data-comment-id":e.id},[Object(i["i"])("div",An,[e.user?(Object(i["r"])(),Object(i["f"])(o,{key:0,user:e.user,size:"small",class:"feedback-comments__comment-avatar"},null,8,["user"])):Object(i["g"])("",!0),e.markers.length>0?(Object(i["r"])(),Object(i["f"])(u,{key:1,color:e.user.color,showColor:!0,class:"feedback-comments__comment-marker",onMarkerClick:function(t){return c.highLighMarkers(e)}},null,8,["color","onMarkerClick"])):Object(i["g"])("",!0),Object(i["i"])("div",Fn,[Object(i["i"])("h3",Pn,Object(i["z"])(e.user.name),1),Object(i["i"])("p",Hn,Object(i["z"])(e.user.role),1)])]),e.image?(Object(i["r"])(),Object(i["f"])(l,{key:0,imageId:e.image},null,8,["imageId"])):Object(i["g"])("",!0),Object(i["h"])(" "+Object(i["z"])(e.text)+" ",1),c.isOwner?c.isOwner&&e.agrees.length>0?(Object(i["r"])(),Object(i["f"])("div",Dn,[Object(i["i"])(d,{class:"feedback-comments__agrees-icon"}),Object(i["i"])("p",Ln,Object(i["z"])(e.agrees.length)+" "+Object(i["z"])(1===e.agrees.length?"person":"people")+" agreed",1)])):Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("div",{key:1,class:"feedback-comments__agree-container",onClick:function(t){return c.handleClick(e)}},[c.isAgreed(e)?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(b,{key:0,class:"feedback-comments__agree-icon feedback-comments__agree-icon--zero"})),c.isAgreed(e)?(Object(i["r"])(),Object(i["f"])(d,{key:1,class:"feedback-comments__agree-icon feedback-comments__agree-icon--active"})):Object(i["g"])("",!0),Object(i["i"])("p",{class:["feedback-comments__agree-label",{"feedback-comments__agree-label--active":c.isAgreed(e)}]},Object(i["z"])(c.isAgreed(e)?"Agreed":"Agree"),3)],8,["onClick"]))],8,["data-comment-id"])})),128))])])}n("99af");var qn={width:"16",height:"16"},Rn=Object(i["i"])("path",{d:"M2.962 2h10l-5.01 6.3L2.962 2zm-2.75-.39C2.232 4.2 5.962 9 5.962 9v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1V9s3.72-4.8 5.74-7.39a.998.998 0 00-.79-1.61H1.002c-.83 0-1.3.95-.79 1.61z"},null,-1);function En(e,t){return Object(i["r"])(),Object(i["f"])("svg",qn,[Rn])}const Nn={};Nn.render=En;var Un=Nn,Bn=n("df3a"),Qn={class:"feedback-image"};function Zn(e,t,n,a,s,c){var r=Object(i["w"])("Spinner");return Object(i["r"])(),Object(i["f"])("div",Qn,[s.source?(Object(i["r"])(),Object(i["f"])("img",{key:0,src:s.source,class:"feedback-image__image"},null,8,["src"])):Object(i["g"])("",!0),s.source?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])(r,{key:1}))])}var Wn={name:"FeedbackImage",components:{Spinner:je},props:["imageId"],data:function(){return{source:null}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te["f"].child("feedback/".concat(e.imageId)).getDownloadURL();case 3:e.source=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.error("Could not load feedback image ".concat(e.imageId));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}};n("daa8");Wn.render=Zn;var $n=Wn,Gn={width:"16",height:"16"},Yn=Object(i["i"])("path",{d:"M11.672 4.464L6.4 9.736 3.528 6.872 2.4 8l4 4 6.4-6.4-1.128-1.136zM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.398 6.398 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4z"},null,-1);function Jn(e,t){return Object(i["r"])(),Object(i["f"])("svg",Gn,[Yn])}const Kn={};Kn.render=Jn;var Xn=Kn,ei={width:"16",height:"16"},ti=Object(i["i"])("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zM6.4 12l-4-4 1.128-1.128L6.4 9.736l6.072-6.072L13.6 4.8 6.4 12z"},null,-1);function ni(e,t){return Object(i["r"])(),Object(i["f"])("svg",ei,[ti])}const ii={};ii.render=ni;var ai=ii,si={name:"FeedbackComments",components:{FilterIcon:Un,Avatar:Bn["a"],MarkerIcon:ye,FeedbackImage:$n,AgreeIconZero:Xn,AgreeIconActive:ai},props:["content"],data:function(){return{previousHighlightedMarkerId:null,showFilterOptions:!1,activeFilter:"All"}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("feedback",{projectComments:"comments"})),Object(u["c"])("user",{userId:"id"})),Object(u["c"])("project",{projectId:"projectId",owner:"owner"})),{},{defaultFilterOption:function(){return"All"},feedbackSteps:function(){return d.steps.filter((function(e){return e.content.readInstructions}))},normalisedFilterOptionLabels:function(){return this.feedbackSteps.map((function(e){return e.content.readInstructions.title}))},hasComments:function(){return this.projectComments.length>0},comments:function(){var e=this,t=this.isOwner?this.commentsByAgrees:this.commentsByTime;return this.activeFilter!==this.defaultFilterOption?t.filter((function(t){return e.normalisedFilterOptionLabels[t.step-2]===e.activeFilter})):t},commentsByAgrees:function(){var e=this.projectComments;return e.sort((function(e,t){return t.agrees.length-e.agrees.length}))},commentsByTime:function(){var e=this.projectComments;return e.sort((function(e,t){return t.ts-e.ts}))},title:function(){return this.content.title},body:function(){return this.content.body},isOwner:function(){return this.owner===this.userId}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("feedback",{getComments:"getComments",updateAgrees:"updateAgrees"})),Object(u["b"])("project",{getProgress:"getProgress"})),{},{toggleFilterVisibility:function(){this.showFilterOptions=!this.showFilterOptions},getInitials:function(e){var t=e.split(" "),n=t.length>1,i=t[0][0],a=t[t.length-1][0];return n?"".concat(i).concat(a):i},handleClick:function(e){this.updateAgrees({projectId:this.projectId,commentId:e.id})},isAgreed:function(e){var t=this;return e.agrees.some((function(e){return e===t.userId}))},highLighMarkers:function(e){if(e.id!==this.previousHighlightedMarkerId){var t=document.querySelectorAll(".visualisation__marker--is-highlighted");t.forEach((function(e){return e.classList.remove("visualisation__marker--is-highlighted")}))}var n=document.querySelectorAll(".visualisation__marker[data-marker-id='".concat(e.id,"']"));n.forEach((function(e){return e.classList.toggle("visualisation__marker--is-highlighted")})),this.previousHighlightedMarkerId=e.id}}),watch:{activeFilter:function(){this.showFilterOptions=!1}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getComments(e.projectId),t.next=3,e.getProgress();case 3:n=t.sent,e.activeFilter="give"===n.type?e.normalisedFilterOptionLabels[n.progress-2]:e.defaultFilterOption,0===e.comments.length&&e.hasComments&&(e.activeFilter=e.defaultFilterOption);case 6:case"end":return t.stop()}}),t)})))()}};n("b342");si.render=Vn;var ci=si,ri={class:"pop-up"},oi={class:"pop-up__inner"},ui={key:0},li={class:"pop-up__tip-list"},bi={key:0,class:"pop-up__tip-icon-container"};function di(e,t,n,a,s,c){var r=Object(i["w"])("QuestionIcon"),o=Object(i["w"])("LimitIcon");return Object(i["r"])(),Object(i["f"])("section",ri,[Object(i["i"])("div",oi,[Object(i["i"])("h1",null,Object(i["z"])(c.title),1),Object(i["i"])("p",{class:["pop-up__body",{"pop-up__body--extra-margin-bottom":c.hasTipsSection}]},Object(i["z"])(c.body),3),c.hasTipsSection?(Object(i["r"])(),Object(i["f"])("div",ui,[Object(i["i"])("h3",null,Object(i["z"])(c.tipHeading),1),Object(i["i"])("ul",li,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.tips,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e,class:["pop-up__tip","pop-up__tip--".concat(e.type)]},["normal"!==e.type?(Object(i["r"])(),Object(i["f"])("span",bi,["question"===e.type?(Object(i["r"])(),Object(i["f"])(r,{key:0,class:"pop-up__tip-icon--question"})):Object(i["g"])("",!0),"limit"===e.type?(Object(i["r"])(),Object(i["f"])(o,{key:1,class:"pop-up__tip-icon--limit"})):Object(i["g"])("",!0)])):Object(i["g"])("",!0),Object(i["h"])(" "+Object(i["z"])(e.label),1)],2)})),128))])])):Object(i["g"])("",!0),Object(i["i"])("button",{class:"pop-up__button",onClick:t[1]||(t[1]=function(t){return c.handleClick(e.button)})},Object(i["z"])(c.buttonLabel),1)])])}var pi={width:"14",height:"11"},hi=Object(i["i"])("path",{d:"M4.319 8.174L1.097 4.952 0 6.042l4.319 4.319 9.271-9.272L12.5 0 4.32 8.174z"},null,-1);function fi(e,t){return Object(i["r"])(),Object(i["f"])("svg",pi,[hi])}const mi={};mi.render=fi;var gi=mi,Oi={name:"PopUp",components:{LimitIcon:mt,QuestionIcon:gi},props:["content"],computed:{title:function(){return this.content.title},body:function(){return this.content.body},hasTipsSection:function(){var e;return this.content.tipHeading&&(null===(e=this.content.tips)||void 0===e?void 0:e.length)>0},tipHeading:function(){return this.content.tipHeading},tips:function(){return this.content.tips},buttonLabel:function(){return this.content.buttonLabel}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateShowPopUp:"updateShowPopUp"})),{},{handleClick:function(){this.updateShowPopUp()}})};n("d6f2");Oi.render=di;var ji=Oi,vi={name:"GiveSidebar",components:{ProgressBar:M,Tabs:Ue,InputInstructions:Ke,ConfirmInstructions:it,ReadInstructions:wt,FeedbackHelper:Qt,FeedbackInput:gn,NavigationButtons:vn,FeedbackComments:ci,PopUp:ji},props:["content","stepIndex"],data:function(){return{animSide:""}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showPopUp:"showPopUp",activeTab:"activeTab"})),{},{step:function(){return this.content.sidebar.steps[this.stepIndex-1]},popUp:function(){return this.step.popUp},legendData:function(){return{limits:this.content.project.data.limits,questions:this.content.project.data.questions}},totalSteps:function(){return this.content.sidebar.steps.length},tabs:function(){return this.step.isCentered?null:this.content.sidebar.tabs},sections:function(){return"give"===this.activeTab?this.step.content:this.content.sidebar.viewFeedbackSections},isCentered:function(){return this.step.isCentered},hideDocumentation:function(){return this.step.hideDocumentation},hideVisualisation:function(){return this.step.hideVisualisation},navigation:function(){return this.step.navigation},hasFeedbackHelper:function(){return Object.keys(this.sections).includes("feedbackHelper")},hasFeedbackInput:function(){return Object.keys(this.sections).includes("feedbackInput")},animSideClass:function(){return this.animSide?"anim-side--".concat(this.animSide):""}}),methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTab:"updateActiveTab"})),{},{setAnimSide:function(e){"previousStep"===e?this.animSide="right":"nextStep"!==e&&"saveInsights"!==e||(this.animSide="left")},beforeEnter:function(){"left"===this.animSide?this.animSide="right":"right"===this.animSide&&(this.animSide="left")},afterEnter:function(){this.animSide=""}}),created:function(){this.updateActiveTab("give")}};n("08fa");vi.render=qe;var ki=vi,_i={class:"view-sidebar"},wi={class:"view-sidebar__inner"},yi={key:0,class:"view-sidebar__inner-wrapper anim-side--left"},Ii={key:1,class:"view-sidebar__inner-wrappers anim-side--right"};function Si(e,t,n,a,s,c){var r=Object(i["w"])("Tabs"),o=Object(i["w"])("ReadInstructions"),u=Object(i["w"])("FeedbackComments"),l=Object(i["w"])("Insights");return Object(i["r"])(),Object(i["f"])("section",_i,[c.tabs?(Object(i["r"])(),Object(i["f"])(r,{key:0,tabs:c.tabs},null,8,["tabs"])):Object(i["g"])("",!0),Object(i["i"])("div",wi,[Object(i["i"])(i["b"],{name:"slide-horizontal",mode:"out-in"},{default:Object(i["F"])((function(){return["feedback"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",yi,["feedback"===e.activeTab?(Object(i["r"])(!0),Object(i["f"])(i["a"],{key:0},Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:"view-sidebar__inner-wrapper"},["readInstructions"===t?(Object(i["r"])(),Object(i["f"])(o,{key:0,content:e,class:"view-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0),"feedbackComments"===t?(Object(i["r"])(),Object(i["f"])(u,{key:1,content:e,class:"view-sidebar__section view-sidebar__section--no-padding-horizontal"},null,8,["content"])):Object(i["g"])("",!0)])})),128)):Object(i["g"])("",!0)])):"insights"===e.activeTab?(Object(i["r"])(),Object(i["f"])("div",Ii,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.sections,(function(e,t){return Object(i["r"])(),Object(i["f"])("div",{key:e,class:"view-sidebar__inner-wrapper"},["readInstructions"===t?(Object(i["r"])(),Object(i["f"])(o,{key:0,content:e,class:"view-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0),"insights"===t?(Object(i["r"])(),Object(i["f"])(l,{key:1,content:e,class:"view-sidebar__section"},null,8,["content"])):Object(i["g"])("",!0)])})),128))])):Object(i["g"])("",!0)]})),_:1})])])}n("7db0");var xi={class:"insights"},Mi={key:0,class:"insights__title"},Ci={class:"insights__list"},zi={class:"insights__insight-meta"},Ti={class:"insights__insight-credentials"},Ai={class:"insights__insight-name"},Fi={class:"insights__insight-role"};function Pi(e,t,n,a,s,c){var r=Object(i["w"])("Avatar");return Object(i["r"])(),Object(i["f"])("section",xi,[c.title&&c.hasInsights?(Object(i["r"])(),Object(i["f"])("h1",Mi,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),Object(i["i"])("ul",Ci,[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(e.insights,(function(e){return Object(i["r"])(),Object(i["f"])("li",{key:e.data,class:"insights__insight"},[Object(i["i"])("div",zi,[e.data.user?(Object(i["r"])(),Object(i["f"])(r,{key:0,user:e.data.user,size:"small",class:"insights__insight-avatar"},null,8,["user"])):Object(i["g"])("",!0),Object(i["i"])("div",Ti,[Object(i["i"])("h3",Ai,Object(i["z"])(e.data.user.name),1),Object(i["i"])("p",Fi,Object(i["z"])(e.data.user.role),1)])]),Object(i["h"])(" "+Object(i["z"])(e.data.insight),1)])})),128))])])}var Hi={name:"Insights",props:["content"],components:{Avatar:Bn["a"]},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("feedback",{insights:"insights"})),{},{hasInsights:function(){return this.insights.length>0},title:function(){return this.content.title}}),methods:Object(o["a"])({},Object(u["b"])("feedback",{getInsights:"getInsights"})),created:function(){this.getInsights()}};n("2bcd");Hi.render=Pi;var Di=Hi,Li={name:"ViewSidebar",components:{Tabs:Ue,ReadInstructions:wt,FeedbackComments:ci,Insights:Di},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{activeTab:"activeTab"})),{},{tabs:function(){return this.content.sidebar.tabs},sections:function(){var e=this,t=this.tabs.find((function(t){return t.value===e.activeTab}));return t.content}}),methods:Object(o["a"])({},Object(u["b"])("sidebar",{updateActiveTab:"updateActiveTab"})),created:function(){this.updateActiveTab("feedback")}};n("98f8");Li.render=Si;var Vi=Li,qi={class:"confirm-sidebar"},Ri={class:"confirm-sidebar__inner"},Ei={key:0},Ni={key:1},Ui={key:2,class:"confirm-sidebar__disclaimer-container"},Bi={class:"confirm-sidebar__disclaimer"},Qi={key:3},Zi=Object(i["i"])("p",{class:"confirm-sidebar__dropzone-label"},[Object(i["h"])("Drop a file or "),Object(i["i"])("span",{class:"confirm-sidebar__dropzone-label--underline"},"browse")],-1),Wi={key:1,class:"confirm-sidebar__preview-container"};function $i(e,t,n,a,s,c){var r=Object(i["w"])("RemoveIcon");return Object(i["r"])(),Object(i["f"])("section",qi,[Object(i["i"])("div",Ri,[c.title?(Object(i["r"])(),Object(i["f"])("h1",Ei,Object(i["z"])(c.title),1)):Object(i["g"])("",!0),c.body?(Object(i["r"])(),Object(i["f"])("p",Ni,Object(i["z"])(c.body),1)):Object(i["g"])("",!0),c.disclaimer?(Object(i["r"])(),Object(i["f"])("div",Ui,[Object(i["i"])("p",Bi,Object(i["z"])(c.disclaimer),1)])):Object(i["g"])("",!0),e.showImageSidebar?(Object(i["r"])(),Object(i["f"])("div",Qi,[e.selectedImagePreview?Object(i["g"])("",!0):(Object(i["r"])(),Object(i["f"])("form",{key:0,class:"confirm-sidebar__dropzone",onDrop:t[2]||(t[2]=Object(i["I"])((function(e){return c.handleDrop(e)}),["prevent"])),onDragenter:t[3]||(t[3]=Object(i["I"])((function(){}),["prevent"])),onDragover:t[4]||(t[4]=Object(i["I"])((function(){}),["prevent"])),onClick:t[5]||(t[5]=function(e){return c.openFilePicker()})},[Object(i["i"])("input",{class:"confirm-sidebar__dropzone-input",type:"file",ref:"feedbackImageInput",onChange:t[1]||(t[1]=function(e){return c.selectFile(e)})},null,544),Zi],32)),e.selectedImagePreview?(Object(i["r"])(),Object(i["f"])("div",Wi,[Object(i["i"])("img",{src:e.selectedImagePreview,class:"confirm-sidebar__preview"},null,8,["src"]),Object(i["i"])("div",{class:"confirm-sidebar__preview-remove",onClick:t[6]||(t[6]=function(e){return c.removeSelectedFile()})},[Object(i["i"])(r,{class:"confirm-sidebar__preview-remove-icon"})])])):Object(i["g"])("",!0)])):Object(i["g"])("",!0),Object(i["i"])("div",{class:["confirm-sidebar__buttons",{"confirm-sidebar__buttons--multiple":c.hasMultiple}]},[(Object(i["r"])(!0),Object(i["f"])(i["a"],null,Object(i["v"])(c.navigation,(function(e,t){return Object(i["r"])(),Object(i["f"])("button",{key:t,class:["confirm-sidebar__button",{"confirm-sidebar__button--outline":e.hasOutline,"confirm-sidebar__button--disabled":c.showDisabledState(e.hasDisabled)}],onClick:function(t){return c.handleNavigationButton(e)}},Object(i["z"])(e.label),11,["onClick"])})),128))],2)])])}var Gi={name:"ConfirmSidebar",components:{RemoveIcon:q},props:["content"],data:function(){return{removedImage:null}},computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showMarkerOverlay:"showMarkerOverlay",markersAreChanged:"markersAreChanged",showImageSidebar:"showImageSidebar",feedbackImage:"feedbackImage",selectedImageBackup:"selectedImageBackup",selectedImage:"selectedImage",selectedImagePreview:"selectedImagePreview",imageIsChanged:"imageIsChanged"})),{},{title:function(){return this.content.title},body:function(){return this.content.body},disclaimer:function(){return this.content.disclaimer},navigation:function(){return this.content.navigation},hasMultiple:function(){return this.content.navigation.length>1},fileExtension:function(){var e=this.selectedImage.name.split(".");return e[e.length-1]},isValidFile:function(){var e=["png","jpg","jpeg"],t=5242880;return e.includes(this.fileExtension)&&this.selectedImage.size<=t}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("sidebar",{updateShowMarkerOverlay:"updateShowMarkerOverlay",saveSessionMarkers:"saveSessionMarkers",updateShowImageSidebar:"updateShowImageSidebar",updateSelectedImage:"updateSelectedImage",updateSelectedImagePreview:"updateSelectedImagePreview",updateFeedbackImage:"updateFeedbackImage",resetImageState:"resetImageState"})),Object(u["b"])("message",{message:"message"})),{},{showDisabledState:function(e){return this.showMarkerOverlay?e&&!this.markersAreChanged:this.showImageSidebar?e&&!this.imageIsChanged:void 0},openFilePicker:function(){this.$refs.feedbackImageInput.click()},handleDrop:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==e.dataTransfer.files.length){n.next=9;break}return t.updateSelectedImage(e.dataTransfer.files[0]),n.t0=t,n.next=5,t.getPreview();case 5:n.t1=n.sent,n.t0.updateSelectedImagePreview.call(n.t0,n.t1),n.next=10;break;case 9:t.message({message:"Too many files selected",mode:"error"});case 10:case"end":return n.stop()}}),n)})))()},selectFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.updateSelectedImage(e.target.files[0]),n.t0=t,n.next=4,t.getPreview();case 4:n.t1=n.sent,n.t0.updateSelectedImagePreview.call(n.t0,n.t1);case 6:case"end":return n.stop()}}),n)})))()},removeSelectedFile:function(){this.updateSelectedImage(null),this.removedImage=this.selectedImagePreview,this.updateSelectedImagePreview(null)},handleNavigationButton:function(e){var t=e.action;switch(t.hasOwnProperty("target")&&this.$router.push(t.target),t){case"cancelMarkers":this.updateShowMarkerOverlay(!1);break;case"saveMarkers":this.markersAreChanged&&(this.updateShowMarkerOverlay(!1),this.saveSessionMarkers(),this.message({message:"Marker changes saved",mode:"succes"}));break;case"cancelImage":this.updateShowImageSidebar(!1),this.imageIsChanged&&(this.resetImageState(),this.updateSelectedImagePreview(this.removedImage),this.feedbackImage||this.updateSelectedImagePreview(null));break;case"saveImage":this.imageIsChanged&&(this.upload(),this.updateShowImageSidebar(!1),this.selectedImage||this.message({message:"Image changes saved",mode:"succes"}));break;default:console.log("switch case not handled"),this.message({message:"Something unexpected happened",mode:"error"})}},getPreview:function(){var e=this;return new Promise((function(t,n){var i=new FileReader;i.onload=function(){return t(i.result)},i.onerror=function(){return n()},i.readAsDataURL(e.selectedImage)}))},upload:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedImage)if(e.isValidFile)try{n=Object(ne["a"])(),i=te["f"].child("feedback/".concat(n)).put(e.selectedImage),i.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is ".concat(t,"% done"))}),(function(t){console.error("Error trying to upload file:",t),e.message({message:"Something went wrong",mode:"error"})}),(function(){e.updateFeedbackImage({id:n,file:e.selectedImage}),e.message({message:"Image added to feedback",mode:"succes"})}))}catch(a){console.error("Error trying to upload file:",a),e.message({message:"Something went wrong",mode:"error"})}else e.message({message:"Only .png and .jpg files smaller than 5mb allowed",mode:"error"}),e.updateShowImageSidebar(!1),e.resetImageState(),e.updateSelectedImagePreview(null);else e.updateFeedbackImage(null),e.resetImageState();case 1:case"end":return t.stop()}}),t)})))()}})};n("27cd");Gi.render=$i;var Yi=Gi,Ji={class:"marker-overlay"};function Ki(e,t,n,a,s,c){var r=Object(i["w"])("Visualisation"),o=Object(i["w"])("ConfirmSidebar");return Object(i["r"])(),Object(i["f"])("section",Ji,[Object(i["i"])(r,{visualisation:c.visualisation,isMarkerOverlay:!0},null,8,["visualisation"]),Object(i["i"])(o,{content:c.markerContent},null,8,["content"])])}var Xi={name:"MarkerOverlay",components:{Visualisation:Fe,ConfirmSidebar:Yi},props:["content"],computed:Object(o["a"])(Object(o["a"])({},Object(u["c"])("project",{project:"project"})),{},{visualisation:function(){return this.project.data.visualisation},markerContent:function(){return this.content.markerContent}})};Xi.render=Ki;var ea=Xi,ta={name:"Project",inheritAttrs:!1,components:{Setup:ae,Documentation:He,GiveSidebar:ki,ViewSidebar:Vi,ConfirmSidebar:Yi,MarkerOverlay:ea},data:function(){return{page:null,progress:null}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("sidebar",{showMarkerOverlay:"showMarkerOverlay",showImageSidebar:"showImageSidebar"})),Object(u["c"])("project",{project:"project",owner:"owner",newProgressAvailable:"newProgressAvailable"})),Object(u["c"])("user",{userId:"id"})),{},{pageContent:function(){switch(this.page){case"setup":return l;case"give":return d;case"view":return p;default:return null}},pageIsGiveOrView:function(){return"give"===this.page||"view"===this.page},documentation:function(){return b},sidebar:function(){return this.pageContent},imageContent:function(){return this.pageContent.imageContent},markerContent:function(){return this.pageContent.markerContent}}),watch:{newProgressAvailable:function(e){e&&(this.syncProgress(),this.resetNewProgressAvailable())}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])("project",{getProgress:"getProgress",resetNewProgressAvailable:"resetNewProgressAvailable"})),{},{syncProgress:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProgress();case 2:n=t.sent,e.page=n.type,e.progress=n.progress;case 5:case"end":return t.stop()}}),t)})))()}}),created:function(){this.syncProgress()}};n("1d32");ta.render=c;t["default"]=ta},"08fa":function(e,t,n){"use strict";n("3164")},"0bf2":function(e,t,n){},"0f3e":function(e,t,n){"use strict";n("9767")},"1d32":function(e,t,n){"use strict";n("8ac5")},2466:function(e,t,n){},"263d":function(e,t,n){},"27cd":function(e,t,n){"use strict";n("2466")},"2bcd":function(e,t,n){"use strict";n("31a7")},"2d46":function(e,t,n){},3164:function(e,t,n){},"31a7":function(e,t,n){},3313:function(e,t,n){},"35b0":function(e,t,n){"use strict";n("f9b3")},"3e2d":function(e,t,n){"use strict";n("d6a5")},"3ffe":function(e,t,n){},"41f3":function(e,t,n){},"430b":function(e,t,n){"use strict";n("852e")},"466d":function(e,t,n){"use strict";var i=n("d784"),a=n("825a"),s=n("50c4"),c=n("1d80"),r=n("8aa5"),o=n("14c3");i("match",1,(function(e,t,n){return[function(t){var n=c(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var c=a(e),u=String(this);if(!c.global)return o(c,u);var l=c.unicode;c.lastIndex=0;var b,d=[],p=0;while(null!==(b=o(c,u))){var h=String(b[0]);d[p]=h,""===h&&(c.lastIndex=r(u,s(c.lastIndex),l)),p++}return 0===p?null:d}]}))},"498a":function(e,t,n){"use strict";var i=n("23e7"),a=n("58a8").trim,s=n("c8d2");i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return a(this)}})},"4b24":function(e,t,n){"use strict";n("6ef1")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var i=n("1d80"),a=n("5899"),s="["+a+"]",c=RegExp("^"+s+s+"*"),r=RegExp(s+s+"*$"),o=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(r,"")),n}};e.exports={start:o(1),end:o(2),trim:o(3)}},"64e6":function(e,t,n){},"6ef1":function(e,t,n){},7972:function(e,t,n){},8182:function(e,t,n){"use strict";n("2d46")},8425:function(e,t,n){"use strict";n("cc22")},"852e":function(e,t,n){},"857c":function(e,t,n){"use strict";n("db69")},"8ac5":function(e,t,n){},9767:function(e,t,n){},"98f8":function(e,t,n){"use strict";n("263d")},9981:function(e,t,n){"use strict";n("ec97")},"9b6b":function(e,t,n){"use strict";n("7972")},"9bf9":function(e,t,n){"use strict";n("3313")},a0af:function(e,t,n){},b342:function(e,t,n){"use strict";n("a0af")},b4ad:function(e,t,n){"use strict";n("0bf2")},bab8:function(e,t,n){"use strict";n("0138")},c8d2:function(e,t,n){var i=n("d039"),a=n("5899"),s="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||s[e]()!=s||a[e].name!==e}))}},cc22:function(e,t,n){},cc84c:function(e,t,n){"use strict";n("3ffe")},d2dd:function(e,t,n){},d6a5:function(e,t,n){},d6f2:function(e,t,n){"use strict";n("d2dd")},daa8:function(e,t,n){"use strict";n("64e6")},db69:function(e,t,n){},ec97:function(e,t,n){},ee8f:function(e,t,n){"use strict";n("41f3")},f9b3:function(e,t,n){}}]);
//# sourceMappingURL=project.ea9c083f.js.map